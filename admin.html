<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Xbloom Admin</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--gr:linear-gradient(135deg,#00A896,#4A90E2);--bg:#0A0A0A;--card:#1A1A1A;--up:#252525;--br:#2A2A2A;--t1:#fff;--t2:#A0A0A0;--ta:#00A896;--red:linear-gradient(135deg,#f093fb,#f5576c);--green:linear-gradient(135deg,#43e97b,#38f9d7);--orange:linear-gradient(135deg,#ffd89b,#ff9a56)}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:var(--t1);min-height:100vh}
#loginScreen{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px}
.lbox{background:var(--card);border-radius:18px;border:1px solid var(--br);padding:36px;text-align:center;width:100%;max-width:380px;position:relative;overflow:hidden}
.lbox::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--gr)}
.lbox h1{font-size:2em;font-weight:900;background:var(--gr);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:4px}
.lbox p{color:var(--t2);font-size:.85em;margin-bottom:26px}
.fi{width:100%;padding:13px 15px;background:var(--up);border:2px solid var(--br);border-radius:10px;color:var(--t1);font-size:15px;font-family:inherit;margin-bottom:12px;text-align:right;transition:.2s}
.fi:focus{outline:none;border-color:var(--ta)}
.lerr{color:#f5576c;font-size:.82em;margin-bottom:12px;min-height:18px;font-weight:700}
.btn{padding:9px 18px;border-radius:10px;border:none;font-size:13px;font-weight:700;cursor:pointer;font-family:inherit;transition:.2s;display:inline-flex;align-items:center;gap:5px;text-decoration:none;white-space:nowrap}
.btn:active{transform:scale(.95)}
.bp{background:var(--gr);color:#fff}
.bp-full{background:var(--gr);color:#fff;width:100%;justify-content:center;padding:14px;font-size:15px}
.bd{background:var(--red);color:#fff}
.bg{background:var(--green);color:#fff}
.bw{background:var(--orange);color:#fff}
.bsm{padding:7px 12px;font-size:12px}
.bbl{width:100%;justify-content:center}
.bgray{background:var(--up);border:1px solid var(--br);color:var(--t2)}
#adminPanel{display:none;min-height:100vh;padding:16px}
.apwrap{max-width:1200px;margin:0 auto}
.aheader{background:var(--card);border-radius:14px;border:1px solid var(--br);padding:16px 22px;margin-bottom:16px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;position:relative;overflow:hidden}
.aheader::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--gr)}
.aheader-title{display:flex;align-items:center;gap:12px}
.aheader-title h1{font-size:1.25em;font-weight:900;background:var(--gr);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.fb-dot{width:9px;height:9px;border-radius:50%;background:#555;transition:.5s}
.fb-dot.ok{background:#43e97b;box-shadow:0 0 8px #43e97b}
.fb-dot.err{background:#f5576c}
.fb-dot.loading{background:#ffd700;animation:pulse 1s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.fb-lbl{font-size:.78em;color:var(--t2)}
.acts{display:flex;gap:7px;flex-wrap:wrap;align-items:center}
.atabs{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.atb{padding:10px 16px;border-radius:9px;background:var(--card);border:2px solid var(--br);color:var(--t2);font-size:13px;font-weight:700;cursor:pointer;font-family:inherit;transition:.2s}
.atb.on{background:var(--gr);color:#fff;border-color:transparent}
.atb:hover:not(.on){border-color:var(--ta)}
.acard{background:var(--card);border-radius:12px;border:1px solid var(--br);padding:20px;margin-bottom:14px;display:none}
.acard.open{display:block}
.alert{padding:14px 18px;border-radius:10px;margin-bottom:16px;font-size:.88em;line-height:1.6;display:none}
.alert.show{display:block}
.alert-warn{background:rgba(255,213,101,.12);border:1px solid rgba(255,213,101,.4);color:#ffd565}
.alert-err{background:rgba(245,87,108,.12);border:1px solid rgba(245,87,108,.4);color:#f5576c}
.alert code{background:rgba(255,255,255,.1);padding:1px 6px;border-radius:4px;font-family:monospace;font-size:.93em}
.sg{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:10px}
.sc{background:var(--up);border-radius:10px;padding:16px;text-align:center}
.sv{font-size:2em;font-weight:900;background:var(--gr);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1.2}
.sl{font-size:.78em;color:var(--t2);margin-top:4px}
.sc.fb-sc{border:1px solid rgba(0,168,150,.3)}
.tw{overflow-x:auto;margin-top:12px}
.tbl{width:100%;border-collapse:collapse;min-width:650px}
.tbl th,.tbl td{padding:10px 12px;text-align:right;border-bottom:1px solid var(--br);font-size:.83em}
.tbl th{background:var(--up);font-weight:700;color:var(--t2);position:sticky;top:0}
.tbl tr:hover td{background:rgba(255,255,255,.03)}
.tbl a{color:var(--ta);text-decoration:none}
.tbl a:hover{text-decoration:underline}
.tblacts{display:flex;gap:5px;justify-content:flex-end;flex-wrap:wrap}
.badge-fb{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:6px;font-size:.7em;font-weight:700;background:linear-gradient(135deg,#00A896,#4A90E2);color:#fff}
.badge-init{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:6px;font-size:.7em;font-weight:700;background:var(--up);color:var(--t2);border:1px solid var(--br)}
.fg{display:flex;flex-direction:column;gap:5px;margin-bottom:12px}
.fg label{font-size:.82em;color:var(--t2);font-weight:700}
.form-input{padding:11px 13px;background:var(--up);border:2px solid var(--br);border-radius:9px;color:var(--t1);font-size:14px;font-family:inherit;width:100%;transition:.2s}
.form-input:focus{outline:none;border-color:var(--ta)}
.fr2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.tsel{display:flex;flex-direction:column;gap:7px}
.topt{padding:11px 14px;border-radius:9px;border:2px solid var(--br);cursor:pointer;display:flex;align-items:center;gap:9px;font-size:.9em;transition:.2s}
.topt:has(input:checked){border-color:var(--ta);background:rgba(0,168,150,.08)}
.topt input[type=radio]{accent-color:var(--ta);width:16px;height:16px}
.upl{border:2px dashed var(--br);border-radius:10px;padding:32px;text-align:center;cursor:pointer;transition:.2s;margin-bottom:12px}
.upl:hover{border-color:var(--ta);background:rgba(0,168,150,.04)}
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%) translateY(120px);background:var(--card);padding:13px 20px;border-radius:10px;border:1px solid var(--br);z-index:3000;opacity:0;transition:.3s;max-width:88%;font-size:13px;text-align:center;pointer-events:none;font-weight:700}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.tok{border-color:#43e97b;color:#43e97b}
.terr{border-color:#f5576c;color:#f5576c}
.twin{border-color:#ffd565;color:#ffd565}
.ov{position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:2000;display:none;align-items:center;justify-content:center;padding:16px}
.ov.open{display:flex}
.cmod{background:var(--card);border-radius:14px;border:1px solid var(--br);padding:28px;max-width:380px;width:100%;text-align:center}
.cmod h3{font-size:1.1em;margin-bottom:8px}
.cmod p{color:var(--t2);font-size:.88em;margin-bottom:20px;line-height:1.5}
.cmod-acts{display:flex;gap:10px;justify-content:center}
.rcard{background:var(--up);border-radius:10px;padding:14px 16px;display:flex;justify-content:space-between;align-items:center;gap:10px;border:1px solid var(--br);flex-wrap:wrap}
.rcard-name{font-size:.9em;font-weight:700;flex:1}
.rcard-stars{color:#ffd700;font-size:1.1em}
.rcard-info{font-size:.78em;color:var(--t2)}
.rlist{display:flex;flex-direction:column;gap:8px;max-height:420px;overflow-y:auto}
/* === ADS & NEW FEATURES === */
.ads-preview{background:var(--up);border:1px solid var(--br);border-radius:10px;padding:14px;margin-top:10px;font-size:.82em;color:var(--t2);min-height:60px;font-family:monospace;word-break:break-all;white-space:pre-wrap}
.toggle-switch{display:flex;align-items:center;gap:10px;padding:12px;background:var(--up);border-radius:9px;border:1px solid var(--br);margin-bottom:10px;cursor:pointer}
.toggle-switch input[type=checkbox]{width:44px;height:24px;cursor:pointer;accent-color:var(--ta)}
.toggle-label{font-size:.88em;font-weight:700;flex:1}
.promo-card{background:var(--up);border:1px solid var(--br);border-radius:10px;padding:14px;display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;margin-bottom:8px}
.promo-badge{display:inline-block;padding:4px 10px;border-radius:20px;font-size:.75em;font-weight:700;background:var(--green);color:#000}
.promo-code{font-family:monospace;font-size:1.1em;font-weight:900;color:var(--ta);letter-spacing:2px}
.section-divider{height:1px;background:var(--br);margin:18px 0}
.color-picker-row{display:flex;align-items:center;gap:12px}
.color-picker-row input[type=color]{width:44px;height:36px;border:none;border-radius:8px;cursor:pointer;background:none;padding:0}
.comments-card{background:var(--up);border:1px solid var(--br);border-radius:10px;padding:14px;margin-bottom:8px}
.comments-card .cmeta{font-size:.78em;color:var(--t2);margin-bottom:6px}
.comments-card .ctext{font-size:.9em;line-height:1.6}
.comments-card .crating{color:#ffd700;font-size:.9em}
.pinned-recipe-card{background:linear-gradient(135deg,rgba(255,215,0,.08),rgba(255,165,0,.04));border:2px solid rgba(255,215,0,.3);border-radius:12px;padding:14px;display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;margin-bottom:8px}
.pin-icon{font-size:1.3em}
@media(min-width:768px){#adminPanel{padding:24px}.fr2{grid-template-columns:1fr 1fr}}
.pass-strength-weak{color:#f5576c!important}
.pass-strength-fair{color:#ffd700!important}  
.pass-strength-good{color:#43e97b!important}
@keyframes slideIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.acard.open{animation:slideIn .25s ease}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginScreen">
  <div class="lbox">
    <h1>â˜• Xbloom</h1>
    <p>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù</p>
    <input class="fi" type="text" id="lu" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="username">
    <input class="fi" type="password" id="lp" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="current-password">
    <div class="lerr" id="lerr"></div>
    <button class="btn bp-full" onclick="doLogin()">ğŸ” Ø¯Ø®ÙˆÙ„</button>
    <p style="margin-top:20px;font-size:.8em"><a href="/" style="color:var(--ta)">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆÙ‚Ø¹</a></p>
  </div>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel">
<div class="apwrap">

  <!-- Header -->
  <div class="aheader">
    <div class="aheader-title">
      <div><div class="fb-dot loading" id="fbDot"></div></div>
      <div>
        <h1>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â€” Xbloom</h1>
        <div class="fb-lbl" id="fbLbl">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase...</div>
      </div>
    </div>
    <div class="acts">
      <a href="/" class="btn bgray bsm" target="_blank">ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>
      <button class="btn bd bsm" onclick="doLogout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <div class="alert alert-err" id="fbAlert">
    âš ï¸ <strong>ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase</strong> â€” Ø§ÙØªØ­
    <a href="https://console.firebase.google.com/project/xbloom-recipes-hub/database/xbloom-recipes-hub-default-rtdb/rules" target="_blank" style="color:#f5576c;font-weight:700">Firebase Console â† Rules</a>
    ÙˆØºÙŠÙ‘Ø± Ø¥Ù„Ù‰: <code>{ "rules": { ".read": true, ".write": true } }</code>
  </div>

  <!-- Tabs -->
  <div class="atabs">
    <button class="atb on" onclick="switchTab(this,'tStats')">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
    <button class="atb" onclick="switchTab(this,'tAdd')">â• Ø¥Ø¶Ø§ÙØ© ÙˆØµÙØ©</button>
    <button class="atb" onclick="switchTab(this,'tRec')">ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØµÙØ§Øª</button>
    <button class="atb" onclick="switchTab(this,'tRatings')">â­ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</button>
    <button class="atb" onclick="switchTab(this,'tComments')">ğŸ’¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</button>
    <button class="atb" onclick="switchTab(this,'tAds')">ğŸ“¢ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</button>
    <button class="atb" onclick="switchTab(this,'tPinned')">ğŸ“Œ ÙˆØµÙØ§Øª Ù…Ø«Ø¨ØªØ©</button>
    <button class="atb" onclick="switchTab(this,'tPromo')">ğŸ« Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…</button>
    <button class="atb" onclick="switchTab(this,'tSite')">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
    <button class="atb" onclick="switchTab(this,'tImp')">ğŸ“¤ Ø§Ø³ØªÙŠØ±Ø§Ø¯</button>
    <button class="atb" onclick="switchTab(this,'tExp')">ğŸ“¥ ØªØµØ¯ÙŠØ±</button>
    <button class="atb" onclick="switchTab(this,'tPass')">ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
  </div>

  <!-- STATS -->
  <div id="tStats" class="acard open">
    <h3 style="margin-bottom:14px;font-size:1em;color:var(--t2)">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
    <div class="sg">
      <div class="sc"><div class="sv" id="sTotal">â€”</div><div class="sl">ğŸ“‹ Ø§Ù„ÙƒÙ„</div></div>
      <div class="sc fb-sc"><div class="sv" id="sFB">â€”</div><div class="sl">â˜ï¸ Firebase</div></div>
      <div class="sc"><div class="sv" id="sInit">214</div><div class="sl">ğŸ“ INIT</div></div>
      <div class="sc"><div class="sv" id="sH">â€”</div><div class="sl">ğŸ”¥ Ø­Ø§Ø±Ø©</div></div>
      <div class="sc"><div class="sv" id="sC">â€”</div><div class="sl">ğŸ§Š Ø¨Ø§Ø±Ø¯Ø©</div></div>
      <div class="sc"><div class="sv" id="sS">â€”</div><div class="sl">âš™ï¸ Ø³ÙŠØ±ÙØ±</div></div>
      <div class="sc"><div class="sv" id="sO">â€”</div><div class="sl">Omni</div></div>
      <div class="sc"><div class="sv" id="sX">â€”</div><div class="sl">xPod</div></div>
      <div class="sc"><div class="sv" id="sOth">â€”</div><div class="sl">Other</div></div>
      <div class="sc fb-sc"><div class="sv" id="sRated">â€”</div><div class="sl">â­ Ù…ÙÙ‚ÙŠÙÙ‘Ù…Ø©</div></div>
      <div class="sc fb-sc"><div class="sv" id="sComments">â€”</div><div class="sl">ğŸ’¬ ØªØ¹Ù„ÙŠÙ‚Ø§Øª</div></div>
    </div>
  </div>

  <!-- ADD RECIPE -->
  <div id="tAdd" class="acard">
    <h3 id="addFormTitle" style="margin-bottom:16px">â• Ø¥Ø¶Ø§ÙØ© ÙˆØµÙØ© Ø¬Ø¯ÙŠØ¯Ø©</h3>
    <form id="addForm" onsubmit="saveRec(event)">
      <input type="hidden" id="rFbKey">
      <div class="fr2">
        <div class="fg"><label>Ø§Ù„Ø§Ø³Ù… *</label><input class="form-input" id="rN" required placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆØµÙØ©"></div>
        <div class="fg"><label>Ø§Ù„Ù…Ø¤Ù„Ù</label><input class="form-input" id="rA" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ù„Ù"></div>
      </div>
      <div class="fr2">
        <div class="fg"><label>Ø§Ù„Ù…Ø­Ø¶Ù‘Ø± *</label>
          <select class="form-input" id="rBr" required>
            <option value="">Ø§Ø®ØªØ±</option>
            <option value="Omni">Omni</option>
            <option value="xPod">xPod</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="fg"><label>Ø§Ù„Ø¬Ø±Ø¹Ø© *</label><input class="form-input" id="rD" required placeholder="15g"></div>
      </div>
      <div class="fg"><label>Ø§Ù„Ù†Ø³Ø¨Ø©</label><input class="form-input" id="rR" placeholder="1:16"></div>
      <div class="fg"><label>Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ø¶ÙŠØ± *</label>
        <div class="tsel">
          <div class="topt"><input type="radio" name="rc" id="rHot" value="hot" required><label for="rHot">ğŸ”¥ ÙˆØµÙØ© Ø­Ø§Ø±</label></div>
          <div class="topt"><input type="radio" name="rc" id="rCold" value="cold"><label for="rCold">ğŸ§Š ÙˆØµÙØ© Ø¨Ø§Ø±Ø¯</label></div>
          <div class="topt"><input type="radio" name="rc" id="rSrv" value="server"><label for="rSrv">âš™ï¸ ØºØ³ÙŠÙ„ ÙˆØªØ±Ø·ÙŠØ¨ Ø³ÙŠØ±ÙØ±</label></div>
        </div>
      </div>
      <div class="fg"><label>Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆØµÙØ© *</label><input type="url" class="form-input" id="rL" required placeholder="https://share-h5.xbloom.com/?id=..."></div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:6px">
        <button type="submit" class="btn bp" style="flex:1;justify-content:center" id="saveBtn">ğŸ’¾ Ø­ÙØ¸</button>
        <button type="button" class="btn bgray" onclick="resetForm()">ğŸ”„ Ù…Ø³Ø­</button>
      </div>
    </form>
  </div>

  <!-- MANAGE RECIPES -->
  <div id="tRec" class="acard">
    <div style="display:flex;gap:9px;flex-wrap:wrap;margin-bottom:14px;align-items:center">
      <input class="form-input" style="flex:1;min-width:180px" id="aQ" placeholder="ğŸ” Ø¨Ø­Ø«..." oninput="renderTable()">
      <select class="form-input" style="width:130px" id="aBr" onchange="renderTable()">
        <option value="all">ÙƒÙ„ Ø§Ù„Ù…Ø­Ø¶Ù‘Ø±Ø§Øª</option>
        <option value="Omni">Omni</option>
        <option value="xPod">xPod</option>
        <option value="Other">Other</option>
      </select>
      <select class="form-input" style="width:130px" id="aSrc" onchange="renderTable()">
        <option value="all">ÙƒÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ø±</option>
        <option value="fb">â˜ï¸ Firebase ÙÙ‚Ø·</option>
        <option value="init">ğŸ“ INIT ÙÙ‚Ø·</option>
      </select>
    </div>
    <div id="tableCount" style="font-size:.82em;color:var(--t2);margin-bottom:10px"></div>
    <div class="tw">
      <table class="tbl">
        <thead><tr><th>#</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù…Ø¤Ù„Ù</th><th>Ø§Ù„Ù…Ø­Ø¶Ù‘Ø±</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„Ù…ØµØ¯Ø±</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
        <tbody id="aTbody"></tbody>
      </table>
    </div>
  </div>

  <!-- RATINGS -->
  <div id="tRatings" class="acard">
    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;margin-bottom:16px">
      <h3>â­ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</h3>
      <button class="btn bd bsm" onclick="resetAllRatings()">ğŸ—‘ï¸ ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</button>
    </div>
    <div id="ratingsList" class="rlist"><p style="color:var(--t2);text-align:center;padding:20px">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª...</p></div>
  </div>

  <!-- COMMENTS -->
  <div id="tComments" class="acard">
    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;margin-bottom:16px">
      <h3>ğŸ’¬ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</h3>
      <button class="btn bd bsm" onclick="deleteAllComments()">ğŸ—‘ï¸ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</button>
    </div>
    <div id="commentsList" class="rlist"><p style="color:var(--t2);text-align:center;padding:20px">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª...</p></div>
  </div>

  <!-- ADS -->
  <div id="tAds" class="acard">
    <h3 style="margin-bottom:16px">ğŸ“¢ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (AdSense Injection)</h3>
    
    <div class="toggle-switch">
      <input type="checkbox" id="adsEnabled" onchange="saveAdsSetting()">
      <label class="toggle-label" for="adsEnabled">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹</label>
    </div>

    <div class="fg">
      <label>ÙƒÙˆØ¯ AdSense (Publisher ID Ø£Ùˆ ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ©)</label>
      <textarea class="form-input" id="adsCode" rows="5" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Google AdSense Ù‡Ù†Ø§..." style="resize:vertical;font-family:monospace;font-size:12px"></textarea>
    </div>

    <div class="fg">
      <label>Ù…ÙˆØ¶Ø¹ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</label>
      <select class="form-input" id="adsPosition">
        <option value="top">Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© (ØªØ­Øª Ø§Ù„Ù‡ÙŠØ¯Ø±)</option>
        <option value="middle">ÙˆØ³Ø· Ø§Ù„Ø´Ø¨ÙƒØ©</option>
        <option value="bottom">Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø©</option>
        <option value="sidebar">Ø´Ø±ÙŠØ· Ø¬Ø§Ù†Ø¨ÙŠ</option>
      </select>
    </div>

    <button class="btn bp bbl" onclick="saveAdsCode()" style="margin-bottom:10px">ğŸ’¾ Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</button>

    <div class="section-divider"></div>
    <h4 style="margin-bottom:12px;color:var(--t2)">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­ÙÙˆØ¸:</h4>
    <div class="ads-preview" id="adsPreview">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯ Ù…Ø­ÙÙˆØ¸ Ø¨Ø¹Ø¯</div>
  </div>

  <!-- PINNED RECIPES -->
  <div id="tPinned" class="acard">
    <h3 style="margin-bottom:16px">ğŸ“Œ Ø§Ù„ÙˆØµÙØ§Øª Ø§Ù„Ù…Ø«Ø¨ØªØ© (Sponsored)</h3>
    <p style="color:var(--t2);font-size:.85em;margin-bottom:14px">Ø§Ù„ÙˆØµÙØ§Øª Ø§Ù„Ù…Ø«Ø¨ØªØ© ØªØ¸Ù‡Ø± ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ© Ù…Ø¹ Ø´Ø§Ø±Ø© "Ù…Ø«Ø¨Øª" Ù…Ù…ÙŠØ²Ø© ÙƒØ¥Ø¹Ù„Ø§Ù† Ù…Ø¯ÙÙˆØ¹.</p>
    
    <div class="fg">
      <label>Ø¨Ø­Ø« Ø¹Ù† ÙˆØµÙØ© Ù„ØªØ«Ø¨ÙŠØªÙ‡Ø§</label>
      <input class="form-input" id="pinnedSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„ÙˆØµÙØ©..." oninput="searchPinnedRecipe()">
    </div>
    <div id="pinnedSearchResults" style="margin-bottom:14px"></div>
    
    <div class="section-divider"></div>
    <h4 style="margin-bottom:12px">Ø§Ù„ÙˆØµÙØ§Øª Ø§Ù„Ù…Ø«Ø¨ØªØ© Ø­Ø§Ù„ÙŠØ§Ù‹:</h4>
    <div id="pinnedList"><p style="color:var(--t2);font-size:.85em">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØµÙØ§Øª Ù…Ø«Ø¨ØªØ©</p></div>
  </div>

  <!-- PROMO CODES -->
  <div id="tPromo" class="acard">
    <h3 style="margin-bottom:16px">ğŸ« Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ… (Promo Codes)</h3>
    <p style="color:var(--t2);font-size:.85em;margin-bottom:14px">ØªÙØ¹Ø±Ø¶ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ… ÙÙŠ Ø´Ø±ÙŠØ· Ø¥Ø¹Ù„Ø§Ù†ÙŠ Ù…ØªØ­Ø±Ùƒ Ø£Ø³ÙÙ„ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª.</p>
    
    <div class="fr2">
      <div class="fg"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù…ØµØ© / Ø§Ù„Ø´Ø±ÙŠÙƒ</label><input class="form-input" id="promoName" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…ØµØ© Ø§Ù„Ø±Ø¨ÙˆØ©"></div>
      <div class="fg"><label>ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</label><input class="form-input" id="promoCode" placeholder="Ù…Ø«Ø§Ù„: XBLOOM20" style="font-family:monospace;text-transform:uppercase"></div>
    </div>
    <div class="fr2">
      <div class="fg"><label>Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… Ø£Ùˆ Ø§Ù„ÙˆØµÙ</label><input class="form-input" id="promoDesc" placeholder="Ù…Ø«Ø§Ù„: Ø®ØµÙ… 20%"></div>
      <div class="fg"><label>Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­Ù…ØµØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label><input class="form-input" id="promoLink" placeholder="https://..."></div>
    </div>
    <button class="btn bp bbl" onclick="addPromoCode()" style="margin-bottom:16px">â• Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯</button>
    
    <div class="section-divider"></div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <h4>Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù†Ø´Ø·Ø©:</h4>
      <div class="toggle-switch" style="margin:0">
        <input type="checkbox" id="promoBarEnabled" onchange="savePromoBarSetting()">
        <label class="toggle-label" for="promoBarEnabled" style="font-size:.82em">Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠ</label>
      </div>
    </div>
    <div id="promoList"><p style="color:var(--t2);font-size:.85em">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ø¨Ø¹Ø¯</p></div>
  </div>

  <!-- SITE SETTINGS -->
  <div id="tSite" class="acard">
    <h3 style="margin-bottom:16px">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø³Ø­Ø§Ø¨ÙŠØ©)</h3>
    <p style="color:var(--t2);font-size:.85em;margin-bottom:16px">ØªØºÙŠÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙŠØ¤Ø«Ø± ÙÙˆØ±Ø§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø²ÙˆØ§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ù…Ø³ Ø§Ù„ÙƒÙˆØ¯.</p>
    
    <div class="fg">
      <label>ğŸ·ï¸ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Site Title)</label>
      <input class="form-input" id="siteTitle" placeholder="Xbloom Recipes | ÙˆØµÙØ§Øª Ø§ÙƒØ³ Ø¨Ù„ÙˆÙ…">
    </div>
    <div class="fg">
      <label>ğŸ“ Ø§Ù„ÙˆØµÙ Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠ (Subtitle)</label>
      <input class="form-input" id="siteSubtitle" placeholder="ÙˆØµÙØ§Øª Ù…Ø¬ØªÙ…Ø¹ Ø§ÙƒØ³ Ø¨Ù„ÙˆÙ…">
    </div>
    <div class="section-divider"></div>
    <h4 style="margin-bottom:12px;color:var(--t2)">Ù†ØµÙˆØµ Ø§Ù„Ù€ Footer</h4>
    <div class="fg">
      <label>Ù†Øµ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø±</label>
      <input class="form-input" id="footerCopy" placeholder="Â© 2026 Xbloom Recipes">
    </div>
    <div class="fg">
      <label>Ù†Øµ Ø«Ø§Ù†ÙˆÙŠ</label>
      <input class="form-input" id="footerSub" placeholder="Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ‚ Ø§Ù„ÙˆØµÙØ§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù…Ù†Ø´Ø¦ÙŠÙ‡Ø§">
    </div>
    <div class="fg">
      <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø·ÙˆÙ‘Ø± / Ø§Ù„Ø¹Ù„Ø§Ù…Ø©</label>
      <input class="form-input" id="footerDev" placeholder="ABDULELAH ALSUFAYAN">
    </div>
    <div class="section-divider"></div>
    <h4 style="margin-bottom:12px;color:var(--t2)">ğŸ“¢ Announcement Bar â€” Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠ</h4>
    <div class="toggle-switch">
      <input type="checkbox" id="annoEnabled" onchange="saveAnnoSetting()">
      <label class="toggle-label" for="annoEnabled">ØªÙØ¹ÙŠÙ„ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</label>
    </div>
    <div class="fg">
      <label>Ù†Øµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</label>
      <input class="form-input" id="annoText" placeholder="Ù…Ø«Ø§Ù„: ğŸ‰ Ø£Ø¶ÙÙ†Ø§ ÙˆØµÙØ§Øª Ø¬Ø¯ÙŠØ¯Ø©! Ø´Ø§Ø±ÙƒÙ†Ø§ ÙˆØµÙØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©">
    </div>
    <div class="fg">
      <label>Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</label>
      <select class="form-input" id="annoType">
        <option value="info">ğŸ’™ Ù…Ø¹Ù„ÙˆÙ…Ø© (Ø£Ø²Ø±Ù‚)</option>
        <option value="success">ğŸ’š Ù†Ø¬Ø§Ø­ (Ø£Ø®Ø¶Ø±)</option>
        <option value="warning">ğŸŸ¡ ØªØ­Ø°ÙŠØ± (Ø£ØµÙØ±)</option>
        <option value="promo">ğŸ« Ø¹Ø±Ø¶ (ØªØ¯Ø±Ø¬)</option>
      </select>
    </div>
    <button class="btn bp bbl" onclick="saveSiteSettings()" style="margin-top:6px">ğŸ’¾ Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
  </div>

  <!-- IMPORT -->
  <div id="tImp" class="acard">
    <h3 style="margin-bottom:14px">ğŸ“¤ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…Ù† Excel</h3>
    <div class="upl" onclick="document.getElementById('xlsIn').click()">
      <div style="font-size:2.5em;margin-bottom:8px">ğŸ“</div>
      <h4>Ø§Ø³Ø­Ø¨ Ù…Ù„Ù Excel Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</h4>
      <p style="color:var(--t2);margin-top:8px;font-size:.82em">.xlsx | .xls</p>
    </div>
    <input type="file" id="xlsIn" accept=".xlsx,.xls" style="display:none" onchange="doImport(event)">
    <button class="btn bg bbl" onclick="dlTemplate()" style="margin-top:8px">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ Excel</button>
  </div>

  <!-- EXPORT -->
  <div id="tExp" class="acard">
    <h3 style="margin-bottom:14px">ğŸ“¥ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
    <div style="display:flex;flex-direction:column;gap:9px">
      <button class="btn bp bbl" onclick="expXLS()">ğŸ“Š ØªØµØ¯ÙŠØ± ÙˆØµÙØ§Øª Firebase â†’ Excel</button>
      <button class="btn bg bbl" onclick="expJSON()">ğŸ“„ ØªØµØ¯ÙŠØ± JSON</button>
      <button class="btn bw bbl" onclick="expBackup()">ğŸ’¾ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙƒØ§Ù…Ù„Ø©</button>
    </div>
  </div>

  <!-- PASSWORD ROTATOR -->
  <div id="tPass" class="acard">
    <h3 style="margin-bottom:6px">ğŸ”‘ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
    <p style="color:var(--t2);font-size:.83em;margin-bottom:18px;line-height:1.6">
      Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ³ÙŠØªÙ… ØªØ´ÙÙŠØ±Ù‡Ø§ ÙÙˆØ±Ø§Ù‹ â€” Ø§Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙÙ†ØªØ¬ ÙˆØ§Ù„ØµÙ‚Ù‡ ÙÙŠ Ù…Ù„Ù <code style="background:rgba(255,255,255,.08);padding:1px 6px;border-radius:4px">admin.html</code> Ù„ÙŠØ­Ù„ Ù…Ø­Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©.
    </p>
    
    <div style="background:rgba(245,87,108,.06);border:1px solid rgba(245,87,108,.2);border-radius:10px;padding:14px;margin-bottom:18px;font-size:.83em;color:var(--t2);line-height:1.7">
      âš ï¸ <strong style="color:var(--t1)">ØªÙ†Ø¨ÙŠÙ‡:</strong> Ø¨Ø¹Ø¯ Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ØŒ Ø§Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù ÙˆØ£Ø¹Ø¯ Ø±ÙØ¹Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ¶Ø§ÙØ©. Ø³ØªØ­ØªØ§Ø¬ Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.
    </div>

    <div class="fg">
      <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
      <div style="position:relative">
        <input class="form-input" type="password" id="newPassInput" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©..." style="padding-left:48px" oninput="livePassPreview()">
        <button onclick="togglePassVis()" style="position:absolute;left:12px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--t2);font-size:1.1em" id="passVisBtn">ğŸ‘ï¸</button>
      </div>
    </div>
    
    <div class="fg">
      <label>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
      <input class="form-input" type="password" id="newPassConfirm" placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±..." oninput="livePassPreview()">
    </div>

    <div id="passStrength" style="margin-bottom:14px;font-size:.82em;display:none">
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px">
        <span id="passStrengthLabel">â€”</span>
        <div style="flex:1;height:5px;background:var(--br);border-radius:3px;overflow:hidden">
          <div id="passStrengthBar" style="height:100%;width:0%;transition:.3s;border-radius:3px;background:#f5576c"></div>
        </div>
      </div>
    </div>

    <div id="passMatchMsg" style="font-size:.82em;margin-bottom:14px;display:none"></div>

    <button class="btn bp bbl" onclick="generateNewPass()" id="genPassBtn" style="margin-bottom:16px" disabled>
      ğŸ” ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´ÙÙ‘Ø±
    </button>
    
    <div id="passResult" style="display:none">
      <div style="background:rgba(67,233,123,.06);border:1px solid rgba(67,233,123,.25);border-radius:10px;padding:16px">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
          <span style="font-size:.85em;font-weight:700;color:#43e97b">âœ… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¬Ø§Ù‡Ø²</span>
          <button class="btn bg bsm" onclick="copyPassCode()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
        </div>
        <p style="font-size:.78em;color:var(--t2);margin-bottom:10px">
          ÙÙŠ Ù…Ù„Ù admin.html Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ ÙˆØ§Ø³ØªØ¨Ø¯Ù„Ù‡ Ø¨Ø§Ù„ÙƒÙˆØ¯ Ø£Ø¯Ù†Ø§Ù‡:
        </p>
        <div style="background:var(--bg);border:1px solid var(--br);border-radius:7px;padding:12px;font-family:monospace;font-size:.78em;line-height:1.8;color:var(--t2)">
          <span style="color:#f093fb">const</span> <span style="color:var(--t1)">_CP</span> <span style="color:#f5576c">=</span> <span style="color:#43e97b">'<span id="passOldLine">NDkwMjM4</span>'</span>;
        </div>
        <p style="font-size:.78em;color:var(--t2);margin:10px 0 8px">Ø§Ø³ØªØ¨Ø¯Ù„Ù‡Ø§ Ø¨Ù€:</p>
        <div style="background:var(--bg);border:1px solid rgba(67,233,123,.3);border-radius:7px;padding:12px;font-family:monospace;font-size:.78em;line-height:1.8">
          <span style="color:#f093fb">const</span> <span style="color:var(--t1)">_CP</span> <span style="color:#f5576c">=</span> <span style="color:#43e97b">'<span id="passNewLine">â€”</span>'</span>;
        </div>
      </div>
    </div>
  </div>

</div>
</div>

<!-- Confirm Modal -->
<div class="ov" id="confirmOv">
  <div class="cmod">
    <h3 id="confirmTitle">ØªØ£ÙƒÙŠØ¯</h3>
    <p id="confirmMsg"></p>
    <div class="cmod-acts">
      <button class="btn bd" id="confirmOk">ØªØ£ÙƒÙŠØ¯</button>
      <button class="btn bgray" onclick="document.getElementById('confirmOv').classList.remove('open')">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
  </div>
</div>
<div class="toast" id="toast"></div>
<script type="module">
const INIT = [{"name": "ÙˆØµÙØ© Ø¨Ø§Ø±Ø¯Ù‡ 24 Ø¬Ø±Ø§Ù… Ù‚Ù‡ÙˆØ©", "author": "mf", "brewer": "Other", "dose": "24g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=ZZxY4cY1PPjQ2M3HyuQQkg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Abla | Colombia 20G", "author": "Abdulrahman alnasser", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Zv1nKEbBLN%2BB309uAYN9xg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "AboZee 25g", "author": "AboZee", "brewer": "Omni", "dose": "15g", "ratio": "1:25", "link": "https://share-h5.xbloom.com/?id=ztElW2DfyC6D2Ft%2FEdYZ7Q%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø¯ÙŠ ÙƒØ§Ù Ø¨Ù„Ø§Ùƒ Ù†Ø§ÙŠØª", "author": "Majed", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Zs%2BDXkRFyUkoUJVLZ8wCrw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Arriyadh Sidamo Natural", "author": "Arriyadh", "brewer": "xPod", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=ZrYi4IY%2BOcoI%2BQ3RBifZUw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Pepperpot Tea Hibiscus Berry Iced", "author": "", "brewer": "Omni", "dose": "5g", "ratio": "~240ml", "link": "https://share-h5.xbloom.com/?id=ZOEKEzL3WtTTfSIrfUPMyA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ice 100g", "author": "M", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=zIuOeVvubuydUfN%2Befj1Sg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "cold150", "author": "Jazaa", "brewer": "Omni", "dose": "18g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=ZHNDm7R1vKaAVpS2f7cPqg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ÙˆØµÙØ© 15 Ø¬Ø±Ø§Ù… Ø§Ø«ÙŠÙˆØ¨ÙŠ", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=ZHdgDqVThoshjr7eZN4QJw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø£Ø¨Ùˆ Ø±Ø§Ø³", "author": "Ghadah", "brewer": "Other", "dose": "22g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=ZDEw2sIKBGvY7OIrBbyimQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙÙŠØµÙ„ ÙŠÙˆÙ†Ø³ - ØµØºÙŠØ±", "author": "MF", "brewer": "Other", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=Z8M5K%2BUcr9pksOjL9MckxQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§Ù†Ø§Ù†Ø§Ø³ Ø¨Ù„Ø§Ùƒ Ù†Ø§ÙŠØª Ø¨Ø§Ø±Ø¯", "author": "Ø§Ø¨Ùˆ ÙˆØ³Ù†", "brewer": "Other", "dose": "23g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=z2aZem4GJiagl%2F0Ai2mS8Q%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø´Ø§ÙŠ Ø§Ù„ÙˆØ²Ø©", "author": "Essa", "brewer": "Omni", "dose": "3g", "ratio": "~360ml", "link": "https://share-h5.xbloom.com/?id=YZ6maOZHWqVVSH6uHebgmQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆÙŠÙ„Ø§", "author": "ABDULAZIZ", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=ywtZFka1zAfA2RAqbWvsfw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Iced Coffee", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=yFRPu9hIS4y6IjuDAirNMQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "COLD BRO", "author": "XBLOOM Adel Badwilan", "brewer": "xPod", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=YDoSObYqp5HFjnFJHkvydQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Brew over 150 ICE", "author": "Hrs", "brewer": "Omni", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=Ycj1mFbeWOMUWFi8f6eUAQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø¨Ø§Ø±Ø¯ ğŸ§Š", "author": "Ø¹Ø§Ø¦Ø¶ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=Y7kxrFLXHmkJAsj7JrrCgA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "fzz_81 - UGANDA", "author": "Fuad Al Zahrani", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=Y3XWHFSyqt1BtBVVVS7NZQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "20g Colombia with grind|Aseel", "author": "abdulla alqarni", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Y1jcHo1jeu4jMskNWnc2xg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§ÙˆØºÙ†Ø¯ÙŠ ÙˆÙŠÙ†Ø¯ Ø¬Ø¯ÙŠØ¯", "author": "Emad", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=XyLGiloGRIRxDWJMlwn5UA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "20g Colombia with grind|Aseel", "author": "Hadeel", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=xXsrNAdUzELj1dCMB31L9g%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Nj | Kasuya 20g", "author": "Najla", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=xxCCzvg1KWUW8I7ER3ulyQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "surge ice Ø§Ù„Ø«Ù„Ø¬ 150", "author": "puresoul.ma", "brewer": "Other", "dose": "20g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=Xu5LoRZQpNa4jpjV1MzWJQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø¨Ø§Ø±Ø¯", "author": "Bader", "brewer": "Omni", "dose": "18g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=xSi8xAYQA4atCP8Asd6AuA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ethiopia ice", "author": "Gasim Hakami", "brewer": "Omni", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=Xn2ODVjt5LS%2B6Q7LiY8pnA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Cold", "author": "Najla", "brewer": "Omni", "dose": "18g", "ratio": "1:9", "link": "https://share-h5.xbloom.com/?id=xl9kwADxKDKMHf%2F5Jb7LJw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "orea Classic 20g", "author": "RAED", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=xiz4JJhiyIZ%2BZHaA1IZ%2Fdw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "NJ COLD | ÙƒÙ…ÙŠØ© Ø§Ù„Ø«Ù„Ø¬ Ù¡Ù¥Ù  Ø¬Ø±Ø§Ù…", "author": "Abdallh Al-Sultan", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=Xhef9RIOPNSVZyPCEOtonQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "SOIL GUJI", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=XgzAZWMAV5y4PjgFyhA1TA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ethiopia Biloya", "author": "Bassam", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=xEj5EG6QjqUiOM3Z7X8dbA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØªØ¬Ø±Ø¨Ù‡ 2 Ø¨Ø§Ø±Ø¯", "author": "Gasim Hakami", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=xe8UTT37KCuxI4y5gz%2Bt9Q%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Colombia Washed Light", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:17", "link": "https://share-h5.xbloom.com/?id=XdNuOm5mA0kZP0JWSwSoIg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ù¢Ù  Ø¬Ø±Ø§Ù… Ø§ÙˆÙ…Ù†ÙŠ", "author": "Ali", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=X5nxWI5U7FWBhfZU961TiA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ice drip recipe", "author": "Authentic", "brewer": "Other", "dose": "20g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=x3M8vrGKocxmRt1ZS97sgA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ÙˆØµÙØ© Ø§Ø¨Ùˆ Ø§ØµÙŠÙ„ Ø­Ø§Ø±", "author": "Faisal", "brewer": "Omni", "dose": "18g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=WybicM2lKEYTHmzWTfN%2B%2Bg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "High Sweetness ğŸ¯", "author": "Mohamd", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=wQmY93Qh3stVj0p3rXwDRg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ù‚ÙŠØ¯Ø¨ Ù…ØµÙ†Ø¹ Ø§Ù„Ù‚Ù‡ÙˆØ©", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=wBODV6u50yVDgx0DIIAQkw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Orea 15 gram Ø§Ù„Ø£Ø³Ø§Ø³", "author": "Sultan", "brewer": "Other", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=wbIItzIgVTda1YhjUFQJ6g%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§Ù†Ø§Ù†Ø§Ø³", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Other", "dose": "20g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=W9gZa0eGAEvmGQBJZsNSbA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙƒÙˆØ¨ Ø«Ù‚ÙŠÙ„", "author": "Abdallh Al-Sultan", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=VYCp0pG9Rk%2FKcx1LLFRUHA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "faisal younis Xpods 6T", "author": "Abdulrahman alnasser", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=VsnipSCO9SPag6Fc5e2%2FkA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Filter Rinse", "author": "SHADDAD", "brewer": "Other", "dose": "10g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=vqSQON%2FLhNbHwqsa8USrsw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "60ml - 20g 1:15 ratio", "author": "Shabib", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=vqoWL%2FhpGg17USllk8KJdg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "MHğŸ§Šâ˜•ï¸", "author": "MH", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=VlNhaY4iek%2Fk7GKRJGndGw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Cold Recipe 150 Ø«Ù„Ø¬", "author": "Abdullah alshalawi", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=vciDPAlWu7P03xCPc0UYAA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "A.Almassari / 25g", "author": "Muneera", "brewer": "Other", "dose": "25g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=V9OSolM1fdsrfEz8FHwXsw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© Ø§Ù„Ø¨Ø§Ø±Ø¯", "author": "ADEL SPACE", "brewer": "Omni", "dose": "17g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=V9eqQyyaSfuxowGSgEJeFQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": 15, "author": "Muneera", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=UY4Y%2BSkLErm%2FifnzkgNLoA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "v60 25 g", "author": "Hussain", "brewer": "Other", "dose": "25g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=uX6NLJlh3wd3Yj5CST%2Fdbw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙƒÙˆØ³ØªØ±ÙŠÙƒÙŠ Ø¨Ù„ÙˆÙ…", "author": "Emad", "brewer": "xPod", "dose": "15g", "ratio": "1:12", "link": "https://share-h5.xbloom.com/?id=uTuyB8bn7uVsEHQSS2XngA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "NğŸ§ŠğŸ’œ", "author": "Noha", "brewer": "Omni", "dose": "18g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=urudC1Wq9v5Y%2Byjh%2FaoD1w%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ØºØ³ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ± ÙˆØªØ³Ø®ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙ‚Ø·", "author": "Naif", "brewer": "Omni", "dose": "8g", "ratio": "1:5", "link": "https://share-h5.xbloom.com/?id=UGbuMoV9DGzaNMEyHIuL1Q%3D%3D", "temperature": "hot", "category": "server"}, {"name": "AboAseeL 20g | Ethiopia", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=UG5%2FcjagDwuq47g0mrHKLg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØºØ³ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ± ÙˆØªØ³Ø®ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙ‚Ø·", "author": "ABDULLAH", "brewer": "Other", "dose": "12g", "ratio": "1:5", "link": "https://share-h5.xbloom.com/?id=Ufjl2IJPb9XpYCNjyvqtyQ%3D%3D", "temperature": "hot", "category": "server"}, {"name": "Ø¨ÙˆØ´Ø§Ù†20Ù‚Ø±Ø§Ù…", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=uBbHZvLSbDzmEaeeINV%2FQw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© 15 ØºØ±Ø§Ù… Ø¨Ø§Ø±Ø¯", "author": "ÙŠÙˆØ³Ù Ø§Ù„Ø¹Ù…ÙŠØ±ÙŠ", "brewer": "Omni", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=UAQm6m2c6ZBH20admXIqbg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ù…Ø§Ø¯Ù‡ÙŠÙ„ÙŠÙ†Ù‚ ØªØ±ÙŠÙØ§Ù„ÙŠ", "author": "Ø¹Ø§Ø¦Ø¶ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ", "brewer": "Other", "dose": "20g", "ratio": "1:14", "link": "https://share-h5.xbloom.com/?id=uAl2AaCa4xnRWVIBu3geyw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Curve Excelso", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:17", "link": "https://share-h5.xbloom.com/?id=u%2B1MvUtUjg9VZe4O4nIgag%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø±ÙˆÙÙŠØ±Ø§ Ø¨Ø§Ø±Ø¯ Ø§Ù„Ø«Ù„Ø¬ 130 Ù…Ù„", "author": "Riza", "brewer": "Omni", "dose": "18g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=tsjs3M8TVnZ6DJtSti3KEg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ØµÙˆØ§Ø¹- Ù‡ÙˆÙŠÙ„Ø§ (Ø­Ø§Ø±) 2:38", "author": "Ibrahim", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=tRXq5usokk1tzU2IFE4iZw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø¨Ø§Ø±Ù‚ Ø¬Ø¯ÙŠØ¯", "author": "Emad", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=TQXWjvO%2F3bCAhgN6PTiBPA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "16 - 90", "author": "Muneera", "brewer": "Omni", "dose": "16g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=TP7yhokZxklUO5aIBUrpYA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "16;", "author": "Muneera", "brewer": "Omni", "dose": "16g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=TjJpiPL2ChiOf9dVlPderA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§Ø«ÙŠÙˆØ¨ÙŠ Ù„Ø§Ù‡ÙˆØ§Ø¦ÙŠ - fzz_81", "author": "Fuad Al Zahrani", "brewer": "Other", "dose": "20g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=TgBHZ8EAVgRyGXfcalqP5A%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Competition Style", "author": "Mohammed", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=TfwI1%2FWL4ZWeo5AwnqW%2BAw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "OREA", "author": "XBLOOM Adel Badwilan", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Temmj%2FloRVzTyTC4kllPwg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Adham - Black Knight", "author": "Khalid Alzeer", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=tCrNDPCiRZ16J617YJ%2BBmg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø¹Ø§Ù„Ù… Ø§Ù„Ù†Ø±Ø¬Ø³", "author": "Anas", "brewer": "Omni", "dose": "15g", "ratio": "1:17", "link": "https://share-h5.xbloom.com/?id=TbLAhkOBCwBzWUPLQZxN%2FQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø­Ù…Ø¶ÙŠØ© Ø§ÙƒØ«Ø±", "author": "Ù…Ø­Ù…Ø¯", "brewer": "Other", "dose": "20g", "ratio": "1:6", "link": "https://share-h5.xbloom.com/?id=tbGPB%2B%2BBJ%2FahPjlKdhZTTg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ICE RESIPE DRIPPER", "author": "AMR", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=Tb4BSC2hFxjDLy0vt0ko6A%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ØªØ¬Ø±Ø¨Ø© Ø´ÙŠØ® Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©", "author": "Wssan", "brewer": "Omni", "dose": "15g", "ratio": "1:11", "link": "https://share-h5.xbloom.com/?id=TA2%2Bvsh1l2WViez8vcSRhQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ethiopia Colombia Various", "author": "Obaid", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=t9CEXxiwTP%2BrBmAAgjz8kg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙÙ‡ Ù…Ø¹ØªÙ…Ø¯Ø© ğŸ¤", "author": "ÙŠÙˆØ³Ù Ø§Ù„Ø¹Ù…ÙŠØ±ÙŠ", "brewer": "Other", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=t8QOd3BEu12ZFrQcW9TwhQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Gadeb - ORO", "author": "Khalid Alzeer", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=szOJ4VoXSiMOuHLzjZ0qqQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "FIKRI - BUNAH ğŸ§Š", "author": "Khaled", "brewer": "Omni", "dose": "15g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=SyHQH%2Fcu5k3UzDj79%2BGNxQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ÙˆØµÙÙ‡ ÙŠØ§Ø¨Ø§Ù†ÙŠÙ‡", "author": "Ù£Ù£", "brewer": "xPod", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=sxRqqKBXHzZ%2B3dI9XrWNnw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© Ø­Ø§Ø± Ù¡Ù¥", "author": "ADEL SPACE", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=swEQnkHq3CBMcaQuoN8epA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØºØ³ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ± ÙˆØªØ³Ø®ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙ‚Ø·", "author": "Abo A7mad", "brewer": "Other", "dose": "6g", "ratio": "1:5", "link": "https://share-h5.xbloom.com/?id=SqhDigZQvqdzDLZHX%2B55dw%3D%3D", "temperature": "hot", "category": "server"}, {"name": 16, "author": "Muneera", "brewer": "Omni", "dose": "16g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=sosC1hIlAIVOSPAOVRzYdA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙŠÙ…Ù†ÙŠ Ø­Ø§Ø±", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Omni", "dose": "18g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=sLEYnAQ0q8tx6rehosfQHA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "surge ice Ø§Ù„Ø«Ù„Ø¬ 150", "author": "puresoul.ma", "brewer": "Other", "dose": "20g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=sjyJ%2B43wG%2BHPBIjwTb4%2BPA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø§ÙŠØ³ Ø¯Ø±ÙŠØ¨/ Ø«Ù„Ø¬ 120", "author": "Muneera", "brewer": "Other", "dose": "25g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=s8WtsKcuyrJQI5PIY%2B111w%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ÙƒÙˆØ³ØªØ±ÙŠÙƒÙŠ Ù…Ø§Ø²", "author": "Emad", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=S4l0boQO5zorMo3dcNRjoA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "A.Almassari / 21g", "author": "soso", "brewer": "Other", "dose": "21g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=S3ELwgw4kdxR2VdMCrXLWA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "salem | Kit Kat", "author": "Turky", "brewer": "Other", "dose": "23g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=RY07DCdhTuI5c6WmNylrDQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØºØ³ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ± ÙˆØªØ³Ø®ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙ‚Ø·", "author": "Mohammed", "brewer": "Other", "dose": "12g", "ratio": "1:5", "link": "https://share-h5.xbloom.com/?id=rxI5iCfD40W2nGGRT2Bveg%3D%3D", "temperature": "hot", "category": "server"}, {"name": "15GØ³Ø¹Ø¯", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=RseBEJ1SPqNCYtRc42A2aQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§ÙŠØ³ Ø¯Ø±Ø¨ Ø§Ù„Ù…Ø¹ÙŠÙˆÙˆÙˆÙˆÙ", "author": "Abdullah", "brewer": "Other", "dose": "25g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=rrVVHC9fNZta1OALynKvwQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "20 -", "author": "Muneera", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Ro4gBFqRFQj7AJa8b8IIXA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "15G", "author": "Muneera", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=RO0kBSTUMPTra1FPw8C9oQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "mod2", "author": "mod", "brewer": "Other", "dose": "22g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=RnYjWJnqTVg29%2BpoVbTcBw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙƒÙˆÙ„Ù…Ø¨ÙŠ Ù…Ø§Ø±ÙŠÙ†Ø² Ù¨Ù¨â€¢", "author": "Emad", "brewer": "xPod", "dose": "15g", "ratio": "1:13", "link": "https://share-h5.xbloom.com/?id=rM2J0Ae7UAo%2Bj64QiIaI8Q%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© 15 Ø¬Ø±Ø§Ù… Ø§Ø«ÙŠÙˆØ¨ÙŠ", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=rkxIuPLkuqxs4hp5qA5wMg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "AboAseeL 20g | ice coffee", "author": "AbuAljawhara", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=rK27Q5wjkZhMPZphyTU0KQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ÙƒÙˆØ³ØªØ±ÙŠÙƒØ§", "author": "mf", "brewer": "Other", "dose": "20g", "ratio": "1:14", "link": "https://share-h5.xbloom.com/?id=rcHwLHPS%2FOj810jNZJaI3g%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Gadeb - ORO", "author": "Aziz", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=RC9IGAQY%2Fd77eT13iqmelg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§ÙƒØ³ÙŠÙ„Ø³Ùˆ 20", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=R8EDgdY4dnkaJYszzNthIA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØºØ³ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±", "author": "AMR", "brewer": "Other", "dose": "7g", "ratio": "1:5", "link": "https://share-h5.xbloom.com/?id=r%2BoRJ6zzfCIm9crPBRGl3A%3D%3D", "temperature": "hot", "category": "server"}, {"name": "ice ( test )", "author": "Faisal", "brewer": "Omni", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=qw8P0CQoGte%2F9EtZwADvAA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø¹ØªØ§Ø±Ø© | Ø§Ù„ÙŠÙ…Ù† Ù…Ø­Ù…ØµØ© Ø³Ù„ÙˆØ¨", "author": "Abdullah", "brewer": "Other", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=qroTtQRUKiXCrIyJoT8UzA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Kiffa Roastery", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=qR140y%2BXxyQASeS3DZXImQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "surge ice Ø§Ù„Ø«Ù„Ø¬ 150", "author": "Omar", "brewer": "Other", "dose": "15g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=QnD4NfBVSqio5gZZP7HqEA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø¯ÙŠ ÙƒØ§Ù Ø¨Ù„Ø§Ùƒ Ù†Ø§ÙŠØª", "author": "ABDULLAH", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=QK638U0p%2BSsZ3nKptAVdPw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Arriyadh AlShumaisi", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=qJpIulp30YY0ntE4BDVYVw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "20g Colombia with grind|Aseel", "author": "faisal", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Qgrt5AXA6GgZAI%2BvjSVb7A%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "classic", "author": "Abdul", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=qEuveC5bkKTtpOwc8Xyepg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "AboAseeL 20g | Ethiopia", "author": "Abdullah", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=q9WFWqNq3qmQ3E6BfdlE4w%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "shindawa 20g.2", "author": "Turki", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Q1JUbEcEc%2Fn6f6Xfrvzmtg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Black Knight - Adham", "author": "Abdullah", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=PQ0OFVXJxVQgkhEZevTQlg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© 25", "author": "Muneera", "brewer": "Other", "dose": "25g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=pp7q1iN1FY%2FTYnkC2taRbg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "4 Pour ice", "author": "Qvsai", "brewer": "Other", "dose": "25g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=PmUeaaFFpGzTzimTVnnA%2Bg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø´Ù…Ø§Ù… ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙŠ - Ø­Ø§Ø±", "author": "Turky", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=pkSB6xkhBKOCbDgTF7lGdw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Bait Hameed 25G | Yemen", "author": "Hadeel", "brewer": "Other", "dose": "25g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=p3G6OpLof7tIpptZ89h1Ew%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "High Sweetness ğŸ¯", "author": "Mohammed Ali", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=P2Cbld7rtCLmDSFWX4sBhA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØªÙŠØ§Ù†Ù…Ùˆ Ø§ÙˆÙ„Ø§Ù„Ø§ Ø§Ù„ØµÙŠÙ† Ù„Ø§Ù‡ÙˆØ§Ø¦ÙŠ", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=OXjZlsQONUc7mzpTpFjwkw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "IDMI Cost Arica Hacienda", "author": "Bassam", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=oqPw7EGBc12G1Zs0ySSaYw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Suwaa - Huila", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=oq2fF8MvpSGGcQL3TegrNA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø­ØµÙ† Ø°Ø±ÙˆØ§Ù† | Dhurwan Fort", "author": "BK", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=OpDGSeJmcIiE8bWoksPhJw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "A.Almassari / 21g", "author": "A.Almassari", "brewer": "Other", "dose": "21g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=ojzjuIVwQ%2BbnbssroaBa%2BQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙƒÙˆÙ„Ø¯ Ø¨Ø±Ùˆ", "author": "Ali", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=OIgZS%2FMQJCieDEl%2FYq3Qgw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ù¢Ù  Ø¬Ø±Ø§Ù… Ø§ÙˆÙ…Ù†ÙŠ", "author": "Ø£Ø¨ÙˆØ¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù†", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=OfGxwsORs%2Fs23Y%2F3tXXZSA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØºØ³ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ± ÙˆØªØ³Ø®ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙ‚Ø·", "author": "ABH", "brewer": "Other", "dose": "6g", "ratio": "1:5", "link": "https://share-h5.xbloom.com/?id=oa4SpZfbZUzHIc7As9qGSQ%3D%3D", "temperature": "hot", "category": "server"}, {"name": "15g creative recipe", "author": "Khalid Alzeer", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=O6%2FCxhQAho08imQcgMACDQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "soil guji harmony", "author": "Ù…Ø´Ø§Ø±ÙŠ", "brewer": "Other", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=O11JHNsWS%2BbPAA%2Fwg63lsA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "abusara7 N", "author": "Abusara7", "brewer": "Other", "dose": "21g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=O%2F9r83o%2BLWqhigz2nMkeOw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Sulalat - Chelechle", "author": "Specialty Hub", "brewer": "xPod", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=o%2BmPCOTenSNMF4JVd0YcWA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ù…Ø°Ù‡Ù„Ø© Ù…Ø­Ù…ØµØ© OYW", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=nZwxyoka%2B08oF2YsQ7rCmw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ | Ronaldo", "author": "BK", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=nqRsA7a6SG0u1ETyz%2B9sTw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "AboAseeL 20g | Ethiopia", "author": "AbuAljawhara", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=nmxMQ8KkAOBzAOXlrIzttw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§Ù„ÙŠÙ…Ù† Ø­Ø±Ø§Ø² Ù…ØµÙ†Ø¹ Ø§Ù„Ù‚Ù‡ÙˆØ© 20g", "author": "ABDULHMEAD", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=NkxEVNpF348Np7Xmt6t77A%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "12G", "author": "Muneera", "brewer": "Omni", "dose": "12g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=NGgyLAMLhPkojpCCKFWS6w%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙƒÙˆØ³ØªØ§Ø±ÙŠÙƒØ§ Ù…Ø§Ø±ÙŠØ§Ø§ Ù…Ø¬ÙÙ", "author": "Fuad Al Zahrani", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=nAOckMAjfez7hg2gKaKmHw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© 18gØŒ Ù…Ø­Ø§ØµÙŠÙ„ Ø³Ø¹ÙˆØ¯ÙŠØ©ØŒÙŠÙ…Ù†ÙŠØ©", "author": "Fndesign", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=MZCo%2B1i1BWok20gfIk09iw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ice 150 ,ğŸ¤”", "author": "Suroor", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=muoUlB7TBi0126jDex2Q8g%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "18G..", "author": "Muneera", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=ms75ZXmJd%2F1aAX22MXUc8g%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "abusara7 N", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=MrDp8A6r05H%2Filcq9ULUqQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø³Ù„ÙØ¯ÙˆØ± ØªØ´Ø§Ø±Ø¬", "author": "Emad", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=MOzdHIzgBjXUC9PH3mDt%2Fw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ice Drip25", "author": "ABH", "brewer": "Other", "dose": "20g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=MLQuyuC47BcmoF0TETd%2FRg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "16g..", "author": "Muneera", "brewer": "Omni", "dose": "16g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=MJvMMfjOKW2rnN9Vp9ePag%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§Ø«ÙŠÙˆØ¨ÙŠ Ù…Ø§Ø²", "author": "Khaled", "brewer": "xPod", "dose": "15g", "ratio": "1:14", "link": "https://share-h5.xbloom.com/?id=MiUvxFcQpofP1QuSy%2FOG%2FA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø´ÙŠÙ„Ø³Ù„ÙŠ Ø³Ù„Ø§Ù„Ø§Øª Ù¡Ù¥ Ø¬", "author": "ÙŠÙˆØ³Ù Ø§Ù„Ø¹Ù…ÙŠØ±ÙŠ", "brewer": "Other", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=mIGxr%2FiFpnlnp3ZHfIm8sw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "A", "author": "Ali", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Ma%2F16weQvbNEYspvJnUP8Q%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙØ±Ø§ÙˆÙ„Ø© Ø±ÙˆÙ„ Ø¨Ø§Ø±Ø¯Ù¡Ù¥Ø¬ Ù…ØµÙ†Ø¹ Ø§Ù„Ù‚Ù‡ÙˆØ©", "author": "ABDULHMEAD", "brewer": "Omni", "dose": "15g", "ratio": "1:11", "link": "https://share-h5.xbloom.com/?id=m5sehtkocFgl%2BDDSPpzV4g%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Soil - Guji", "author": "Specialty Hub", "brewer": "xPod", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=m5m39U5SDhRF%2FjdM3KSS9w%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "natural fermentation beansğŸ§Š", "author": "SA", "brewer": "Omni", "dose": "15g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=m58xceXg5UrJsyNVPWyW4w%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "The big barista", "author": "Omar", "brewer": "Omni", "dose": "18g", "ratio": "1:14", "link": "https://share-h5.xbloom.com/?id=M0uoZlDb%2FzGllFJIW7l1dg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "slope", "author": "Muneera", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=LYYQlew9ndISEZf8wRs8Jw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ù…Ø§Ù†Ø§Ù†Ø§Ø³ÙŠ Oro", "author": "Ali", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=luleqEawHeVg7e7Ux16gtQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "SOIL. GUJI", "author": "soil", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=lqY24uVRMPoqTVpgsFwQAg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "BlackSip Watermelon Cold", "author": "ahmad", "brewer": "Other", "dose": "20g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=lpPQuDvmXkvJIGQzB%2B5T3w%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ØºØ³ÙŠÙ„", "author": "Turky", "brewer": "Other", "dose": "10g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=lpDriV6DNu6Ohf4tT1Dl6g%3D%3D", "temperature": "hot", "category": "server"}, {"name": "ÙˆØµÙÙ‡ 15 ØºØ±Ø§Ù…", "author": "Ghazi", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=LDyP1OcWT3hZcCX12nrUuQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "20g Colombia 180 ice", "author": "M", "brewer": "Other", "dose": "20g", "ratio": "1:9", "link": "https://share-h5.xbloom.com/?id=lDMV3jgrCYmJ%2FgsTy4gkxg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "KAMAL 9x", "author": "KAMAL ALRAWHANI", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=L0eCSa9l5EqPjPCjIYPhsQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØªØ¬Ø±Ø¨Ø© Ø´ÙŠØ® Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©", "author": "Hider Ali", "brewer": "Omni", "dose": "15g", "ratio": "1:11", "link": "https://share-h5.xbloom.com/?id=KZXMjL2SZE9yixHcUBvwyw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ù¤ ØµØ¨Ø§Øª Ø·Ø­Ù† Ø³ÙˆÙŠÙ„ Ø´ÙŠÙ„Ø´Ù„ÙŠ 15 Ø¬", "author": "Abdullah", "brewer": "Other", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=kzABcLIfs1ctHatV%2F%2BiBHg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "faisal younis Xpods 6T", "author": "SHADDAD", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=KycHhRpushnbcgYMMJZ88Q%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ice coffee", "author": "Ali", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=krOsQGpAjwfHTFmefJwwdg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "AboAseeL 20g | ice coffee", "author": "faisal", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=kqQR5FxHNFb4MdWjxcFA3w%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "M.15", "author": "Muneera", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=kOmewFPhoLTkrtXW7N6MMQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "15g - Fruit", "author": "Abdulaziz", "brewer": "Omni", "dose": "15g", "ratio": "1:17", "link": "https://share-h5.xbloom.com/?id=kMQtPOJa%2FTrz7eZkIYxwRQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "22;", "author": "Muneera", "brewer": "Other", "dose": "22g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=Kj2JFoQUy1608RbhmPyTow%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "GPT - Al-Shumaisi 15g", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=kESyUeduhUKXITEVUV5cjA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "18G", "author": "Muneera", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=kdAQr03Tk1s0ecmNa16KIg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "AboAseeL 20g | Ethiopia", "author": "Hadeel", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=kC8lnveKhEf5FpwsQ4OF5g%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ØªÙŠØ§Ù†Ù…Ùˆ Ø§ÙˆÙ„Ø§Ù„Ø§ 15g Ø¨Ø§Ø±Ø¯", "author": "Abdullah", "brewer": "Omni", "dose": "15g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=kBRNMiiYtKl8KCZUiwfrNw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ÙˆØµÙØ© Ù…Ø¹ØªÙ…Ø¯Ø© 15 ğŸ’›ğŸ’›", "author": "ÙŠÙˆØ³Ù Ø§Ù„Ø¹Ù…ÙŠØ±ÙŠ", "brewer": "Other", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=K3Kib2OPjfUUQU1npdCeKg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Classic Ice Drip", "author": "Abdul", "brewer": "Other", "dose": "20g", "ratio": "1:9", "link": "https://share-h5.xbloom.com/?id=K1rdIPRbzYcvqtRm4YmZdw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Seen 19g ğŸ’³ Ø§Ø«ÙŠÙˆØ¨ÙŠ", "author": "khaled", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=jzeV0rmlZfrWP8A5OU14JQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø¯ÙŠØ§Ø±", "author": "Emad", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=jXAKonLop3xpfWyYnjy8og%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Black Night", "author": "Turky", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=JPuE66m4y%2FDnIeLuR%2FnDJw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "A", "author": "Waleed Alotaibi", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=JnZLkfjbHXo2uNv0ei5QKg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "15GØ³Ø¹Ø¯", "author": "Ù…Ø­Ù…Ø¯", "brewer": "Omni", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=jg9yDcT52MJUBloUF8fwRw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "AboAseeL 20g | ice coffee", "author": "Mohammad", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=JFrvKOFkK0JeNEdL%2FwPRAw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Ø¨Ù„Ø§Ùƒ Ù†Ø§ÙŠØª Ø®ÙˆØ® 170 Ù‚Ø±Ø§Ù… Ø«Ù„Ø¬", "author": "sloom", "brewer": "Other", "dose": "25g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=Jesju4Jr%2F3ZKEP2OII6vlw%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "iesss", "author": "Abdulmailk", "brewer": "Omni", "dose": "18g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=JegxlZmzRaFtBkWCpfCGSQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØªÙŠ Ø§Ù„Ø®Ø§ØµÙ‡ Ø±Ù‚Ù… 2", "author": "Bader", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=jdQZImafA%2B5R7npRet3RjQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø§Ù„Ø¥ÙŠØ­Ø§Ø¡Ø§Øª", "author": "abdullah aqil", "brewer": "Omni", "dose": "15g", "ratio": "1:17", "link": "https://share-h5.xbloom.com/?id=JC%2BL0uxKaHadpm4yI%2BNE1Q%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙÙŠØµÙ„ ÙŠÙˆÙ†Ø³ - ÙƒØ¨ÙŠØ±", "author": "MF", "brewer": "Other", "dose": "22g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=jA5ZTA%2FZAXQE2Le3OTrP9Q%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙÙ‡ 15 ØºØ±Ø§Ù…", "author": "Ali", "brewer": "Omni", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=j%2BvT14%2F%2Blm4V%2FG4KFDODjA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ø¨Ø§Ø±Ø¯ Ù¡Ù¥Ù  Ø«Ù„Ø¬ Ù¢Ù  Ø¬", "author": "Majed", "brewer": "Other", "dose": "20g", "ratio": "1:6", "link": "https://share-h5.xbloom.com/?id=iZk4tg1P9vfTHdiipcD%2BxQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "RICARDO . trivali , Ice 20g", "author": "Ø¹Ø§Ø¦Ø¶ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ", "brewer": "Other", "dose": "21g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=IwAkBhJcWbAtfjn61iOzAQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Arriyadh - AlShumaisi", "author": "Specialty Hub", "brewer": "xPod", "dose": "15g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=iQXZKyfZZWZ3qJ9%2B21K%2FVw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ice drip - Ø§Ù„Ø«Ù„Ø¬ 100 Ù‚Ø±Ø§Ù…", "author": "Muneera", "brewer": "Other", "dose": "20g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=ILsCz3GN6Htr1DFtSzNCZg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "Abla Roastery 20g Ethiopia4", "author": "Hadeel", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=iKDcCuViwydHfN%2FIqtYQmA%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ice Yameine", "author": "Aziz's", "brewer": "Omni", "dose": "18g", "ratio": "1:8", "link": "https://share-h5.xbloom.com/?id=ij3jO13xQqrFgA3bCI%2FBPA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "ğŸ˜´ğŸ˜´", "author": "Khalifa", "brewer": "Omni", "dose": "15g", "ratio": "1:17", "link": "https://share-h5.xbloom.com/?id=IHjPVu5J%2B01j3fzeQOVyCQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ice drip 17g", "author": "Reem", "brewer": "Omni", "dose": "17g", "ratio": "1:9", "link": "https://share-h5.xbloom.com/?id=IAGy8o8CWc5qNNgU4gOscA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "117 Ø«Ù„Ø¬", "author": "Bandar", "brewer": "Other", "dose": "18g", "ratio": "1:6", "link": "https://share-h5.xbloom.com/?id=I0sRNKzn1nKNnpz5%2BjYmNg%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "El Silvador Norah", "author": "Abdullah", "brewer": "Omni", "dose": "18g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=I%2FzKG70N%2Fedg9D2sfIopxQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Ù‚ÙˆØªÙ‡ Ø³Ù„ÙØ§Ø¯ÙˆØ± ØªÙˆØ±ÙˆÙ„Ø§ Ù…ØºØ³ÙˆÙ„ Ø­Ø§Ø±", "author": "Yousef Alharbi", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=HPMYy0G1q4y2cTjKm6Hplw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "Coffee of The Day", "author": "", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=HpMXbY5K4tGRV39vvAIJMw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "ÙˆØµÙØ© Ù„Ø§Ù…Ø§ - Ø«Ù„Ø¬ 100", "author": "Muneera", "brewer": "Other", "dose": "15g", "ratio": "1:7", "link": "https://share-h5.xbloom.com/?id=Hn3COMgKN9n5Ic1alSNleQ%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "kiffa", "author": "Khalid Alzeer", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=HLVun57Owy9mIGO8xKYJ0A%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "iced qayel ali - Ø®Ø§Ù„Ø¯", "author": "KHALED", "brewer": "Omni", "dose": "18g", "ratio": "1:10", "link": "https://share-h5.xbloom.com/?id=HIHXWqBzA45ruB7f0B%2FzBA%3D%3D", "temperature": "cold", "category": "cold"}, {"name": "30 Ù‚Ø±Ø§Ù…", "author": "Muneera", "brewer": "Other", "dose": "25g", "ratio": "1:18", "link": "https://share-h5.xbloom.com/?id=h2jb7hWx9N6HUsaCAVf5jQ%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "15pod", "author": "Muneera", "brewer": "xPod", "dose": "15g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=GsjfvzgF8eWPdtEjfWBjsw%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "GADEB ORO BY Noura.ja", "author": "Nourah", "brewer": "Other", "dose": "20g", "ratio": "1:15", "link": "https://share-h5.xbloom.com/?id=GkOQiqyJTmUls1v1XNDZjg%3D%3D", "temperature": "hot", "category": "hot"}, {"name": "25grams", "author": "Muneera", "brewer": "Other", "dose": "25g", "ratio": "1:16", "link": "https://share-h5.xbloom.com/?id=gJAP695CaWbNxZxkMcLQGA%3D%3D", "temperature": "hot", "category": "hot"}]

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, onValue, push, set, remove, get } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

// â•â•â•â• CREDENTIALS (obfuscated) â•â•â•â•
// user: abdulelah | pass: 490238
const _CU = 'YWJkdWxlbGFo';
const _CP = 'NDkwMjM4';
function _dc(s){ try{ return atob(s); }catch(e){ return ''; } }

async function sha256(msg) { return msg; } // fallback (unused)

const FB_CFG = {
  apiKey: "AIzaSyDq370Yy4W-TfbyFL5rt4y3h3ngajJVIrE",
  databaseURL: "https://xbloom-recipes-hub-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "xbloom-recipes-hub"
};

const CKW = ['Ø¨Ø§Ø±Ø¯','Ø«Ù„Ø¬','ice','ğŸ§Š','iced','Ø§Ù„Ø«Ù„Ø¬','cold','Ø¨Ø§Ø±Ø¯Ø©','Ù…Ø«Ù„Ø¬','Ø¨Ø§Ø±Ø¯Ù‡','Ù…Ø«Ù„Ø¬Ø©','Ù…Ø«Ù„Ø¬Ù‡'];
const SKW = ['ØºØ³ÙŠÙ„','ØªØ±Ø·ÙŠØ¨','Ø³ÙŠØ±ÙØ±','ØºØ³Ù„','server','cleaning','wash'];

let app, db, recipesRef, ratingsRef, settingsRef, commentsRef;
let FB_RECIPES = [], FB_RATINGS = {}, ALL_RECIPES = [], FB_COMMENTS = {};
let editingKey = null;

function toast(msg, cls='tok') {
  const t = document.getElementById('toast');
  t.textContent = msg; t.className = 'toast ' + cls + ' show';
  setTimeout(() => t.classList.remove('show'), 3200);
}
function setEl(id, v) { const el=document.getElementById(id); if(el) el.textContent=v; }
function str(v) { return v==null?'':String(v); }
function esc(s) { return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;'); }
function ensureCat(r) {
  if(!r.category){const t=(str(r.name)+' '+str(r.author)).toLowerCase();r.category=SKW.some(k=>t.includes(k))?'server':CKW.some(k=>t.includes(k))?'cold':'hot';}
  return r;
}
function setFbStatus(state, msg) {
  const dot=document.getElementById('fbDot');
  const lbl=document.getElementById('fbLbl');
  dot.className='fb-dot '+state;
  lbl.textContent=msg;
  document.getElementById('fbAlert').classList.toggle('show', state==='err');
}

// â•â•â•â• AUTH â•â•â•â•
window.doLogin = function() {
  const u = document.getElementById('lu').value.trim();
  const p = document.getElementById('lp').value.trim();
  if(!u || !p) { document.getElementById('lerr').textContent = 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª â—'; return; }
  if(u === _dc(_CU) && p === _dc(_CP)) {
    sessionStorage.setItem('xba','1');
    document.getElementById('loginScreen').style.display='none';
    document.getElementById('adminPanel').style.display='block';
    initFirebase();
  } else {
    document.getElementById('lerr').textContent = 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø© âŒ';
  }
};
window.doLogout = function() { sessionStorage.removeItem('xba'); location.reload(); };

['lu','lp'].forEach(id=>{
  document.getElementById(id).addEventListener('keydown',e=>{ if(e.key==='Enter') window.doLogin(); });
});

if(sessionStorage.getItem('xba')==='1'){
  document.getElementById('loginScreen').style.display='none';
  document.getElementById('adminPanel').style.display='block';
  initFirebase();
}

// â•â•â•â• FIREBASE â•â•â•â•
function initFirebase() {
  setFbStatus('loading','Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...');
  try {
    app = initializeApp(FB_CFG);
    db = getDatabase(app);
    recipesRef = ref(db,'recipes');
    ratingsRef = ref(db,'ratings');
    settingsRef = ref(db,'siteSettings');
    commentsRef = ref(db,'comments');
  } catch(e) {
    setFbStatus('err','Ø®Ø·Ø£: ' + e.message); return;
  }

  onValue(recipesRef, snap => {
    FB_RECIPES = [];
    snap.forEach(child=>{ const r=child.val(); r._fbKey=child.key; r._src='fb'; ensureCat(r); FB_RECIPES.push(r); });
    const fbLinks = new Set(FB_RECIPES.map(r=>r.link));
    const initClone = JSON.parse(JSON.stringify(INIT)).filter(r=>!fbLinks.has(r.link));
    initClone.forEach(r=>{ r._src='init'; ensureCat(r); });
    ALL_RECIPES = FB_RECIPES.concat(initClone);
    setFbStatus('ok', 'âœ… Ù…ØªØµÙ„ â€” ' + FB_RECIPES.length + ' ÙˆØµÙØ© Firebase + ' + initClone.length + ' INIT');
    updateStats(); renderTable();
  }, err => { setFbStatus('err','ÙØ´Ù„ â€” '+err.message); });

  onValue(ratingsRef, snap => {
    FB_RATINGS = {};
    snap.forEach(child=>{ FB_RATINGS[child.key]=child.val(); });
    renderRatings(); updateStats();
  }, ()=>{});

  onValue(commentsRef, snap => {
    FB_COMMENTS = {};
    snap.forEach(child=>{ FB_COMMENTS[child.key]=child.val(); });
    renderComments(); updateStats();
  }, ()=>{});

  // Load site settings
  onValue(settingsRef, snap => {
    const s = snap.val() || {};
    if(s.siteTitle) document.getElementById('siteTitle').value = s.siteTitle;
    if(s.siteSubtitle) document.getElementById('siteSubtitle').value = s.siteSubtitle;
    if(s.footerCopy) document.getElementById('footerCopy').value = s.footerCopy;
    if(s.footerSub) document.getElementById('footerSub').value = s.footerSub;
    if(s.footerDev) document.getElementById('footerDev').value = s.footerDev;
    if(s.annoText) document.getElementById('annoText').value = s.annoText;
    if(s.annoType) document.getElementById('annoType').value = s.annoType;
    document.getElementById('annoEnabled').checked = !!s.annoEnabled;
    if(s.adsCode) document.getElementById('adsCode').value = s.adsCode;
    if(s.adsPosition) document.getElementById('adsPosition').value = s.adsPosition;
    document.getElementById('adsEnabled').checked = !!s.adsEnabled;
    document.getElementById('adsPreview').textContent = s.adsCode || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯ Ù…Ø­ÙÙˆØ¸ Ø¨Ø¹Ø¯';
    document.getElementById('promoBarEnabled').checked = !!s.promoBarEnabled;
    renderPinnedList(s.pinnedRecipes||[]);
    renderPromoList(s.promoCodes||[]);
  }, ()=>{});
}

function updateStats() {
  let h=0,c=0,s=0,o=0,x=0,ot=0;
  ALL_RECIPES.forEach(r=>{
    const cat=r.category||'hot', b=r.brewer||'';
    if(cat==='hot')h++; else if(cat==='cold')c++; else s++;
    if(b==='Omni')o++; else if(b==='xPod')x++; else ot++;
  });
  setEl('sTotal',ALL_RECIPES.length); setEl('sFB',FB_RECIPES.length);
  setEl('sH',h); setEl('sC',c); setEl('sS',s);
  setEl('sO',o); setEl('sX',x); setEl('sOth',ot);
  setEl('sRated',Object.keys(FB_RATINGS).length);
  let totalComments = 0;
  Object.values(FB_COMMENTS).forEach(recipe=>{if(typeof recipe==='object') totalComments+=Object.keys(recipe).length;});
  setEl('sComments', totalComments);
}

window.switchTab = function(btn,id){
  document.querySelectorAll('.atb').forEach(b=>b.classList.remove('on'));
  document.querySelectorAll('.acard').forEach(c=>c.classList.remove('open'));
  btn.classList.add('on');
  document.getElementById(id).classList.add('open');
};

// â•â•â•â• TABLE â•â•â•â•
window.renderTable = function() {
  const q = (document.getElementById('aQ')?.value||'').toLowerCase().trim();
  const br = document.getElementById('aBr')?.value||'all';
  const src = document.getElementById('aSrc')?.value||'all';
  const list = ALL_RECIPES.filter(r=>{
    if(br!=='all'&&r.brewer!==br) return false;
    if(src==='fb'&&r._src!=='fb') return false;
    if(src==='init'&&r._src!=='init') return false;
    if(q){ const t=(str(r.name)+' '+str(r.author)).toLowerCase(); if(!t.includes(q)) return false; }
    return true;
  });
  setEl('tableCount','Ø¹Ø±Ø¶ '+list.length+' ÙˆØµÙØ©');
  const tbody=document.getElementById('aTbody');
  if(!list.length){ tbody.innerHTML='<tr><td colspan="7" style="text-align:center;color:var(--t2);padding:20px">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</td></tr>'; return; }
  tbody.innerHTML=list.map((r,i)=>{
    const cat=r.category||'hot';
    const catLbl=cat==='hot'?'ğŸ”¥ Ø­Ø§Ø±':cat==='cold'?'ğŸ§Š Ø¨Ø§Ø±Ø¯':'âš™ï¸ Ø³ÙŠØ±ÙØ±';
    const srcBadge=r._src==='fb'?'<span class="badge-fb">â˜ï¸ Firebase</span>':'<span class="badge-init">ğŸ“ INIT</span>';
    const actions=r._src==='fb'?`<button class="btn bsm bw" onclick="editRec('${r._fbKey}')">âœï¸</button>
      <button class="btn bsm bd" onclick="confirmDel('${r._fbKey}','${esc(str(r.name))}')">ğŸ—‘ï¸</button>`
      :'<span style="font-size:.75em;color:var(--t2)">Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© ÙÙ‚Ø·</span>';
    return `<tr><td>${i+1}</td><td><a href="${esc(str(r.link))}" target="_blank">${esc(str(r.name))}</a></td>
      <td>${esc(str(r.author))}</td><td>${esc(str(r.brewer))}</td><td>${catLbl}</td><td>${srcBadge}</td>
      <td><div class="tblacts">${actions}</div></td></tr>`;
  }).join('');
};

// â•â•â•â• ADD/EDIT â•â•â•â•
window.resetForm = function(){
  document.getElementById('addForm').reset();
  document.getElementById('rFbKey').value='';
  editingKey=null;
  document.getElementById('addFormTitle').textContent='â• Ø¥Ø¶Ø§ÙØ© ÙˆØµÙØ© Ø¬Ø¯ÙŠØ¯Ø©';
  document.getElementById('saveBtn').textContent='ğŸ’¾ Ø­ÙØ¸';
};

window.editRec = function(fbKey){
  const r=FB_RECIPES.find(x=>x._fbKey===fbKey);
  if(!r) return;
  editingKey=fbKey;
  document.getElementById('rFbKey').value=fbKey;
  document.getElementById('rN').value=str(r.name);
  document.getElementById('rA').value=str(r.author);
  document.getElementById('rBr').value=str(r.brewer);
  document.getElementById('rD').value=str(r.dose);
  document.getElementById('rR').value=str(r.ratio);
  document.getElementById('rL').value=str(r.link);
  const cat=r.category||'hot';
  document.getElementById(cat==='cold'?'rCold':cat==='server'?'rSrv':'rHot').checked=true;
  document.getElementById('addFormTitle').textContent='âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØµÙØ©';
  document.getElementById('saveBtn').textContent='ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„';
  document.querySelectorAll('.atb').forEach((b,i)=>{ b.classList.toggle('on',i===1); });
  document.querySelectorAll('.acard').forEach((c,i)=>{ c.classList.toggle('open',i===1); });
  window.scrollTo({top:0,behavior:'smooth'});
};

window.saveRec = function(e){
  e.preventDefault();
  if(!db){ toast('Firebase ØºÙŠØ± Ù…ØªØµÙ„!','terr'); return; }
  const catSel=document.querySelector('input[name="rc"]:checked');
  if(!catSel){ toast('Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ø¶ÙŠØ±','terr'); return; }
  const r={name:document.getElementById('rN').value.trim(),author:document.getElementById('rA').value.trim(),
    brewer:document.getElementById('rBr').value,dose:document.getElementById('rD').value.trim(),
    ratio:document.getElementById('rR').value.trim(),link:document.getElementById('rL').value.trim(),
    category:catSel.value};
  const btn=document.getElementById('saveBtn');
  btn.textContent='â³...'; btn.disabled=true;
  const op=editingKey ? set(ref(db,'recipes/'+editingKey),r) : push(recipesRef,r);
  op.then(()=>{ toast(editingKey?'ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ âœ…':'ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© âœ…'); resetForm(); })
    .catch(err=>{ toast('Ø®Ø·Ø£: '+err.message,'terr'); })
    .finally(()=>{ btn.textContent='ğŸ’¾ Ø­ÙØ¸'; btn.disabled=false; });
};

// â•â•â•â• DELETE â•â•â•â•
window.confirmDel = function(fbKey,name){
  document.getElementById('confirmMsg').textContent='Ø­Ø°Ù: '+name+'ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.';
  const ov=document.getElementById('confirmOv'); ov.classList.add('open');
  document.getElementById('confirmOk').onclick=()=>{
    ov.classList.remove('open');
    remove(ref(db,'recipes/'+fbKey))
      .then(()=>toast('ØªÙ… Ø§Ù„Ø­Ø°Ù âœ…'))
      .catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  };
};

// â•â•â•â• RATINGS â•â•â•â•
function renderRatings(){
  const container=document.getElementById('ratingsList');
  const keys=Object.keys(FB_RATINGS);
  if(!keys.length){ container.innerHTML='<p style="color:var(--t2);text-align:center;padding:20px">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø¨Ø¹Ø¯</p>'; return; }
  const sorted=keys.map(k=>({key:k,...FB_RATINGS[k]})).sort((a,b)=>{
    const avgA=a.count>0?a.total/a.count:0, avgB=b.count>0?b.total/b.count:0;
    return avgB-avgA;
  });
  container.innerHTML=sorted.map((rd,i)=>{
    const avg=rd.count>0?(rd.total/rd.count).toFixed(1):0;
    const stars='â­'.repeat(Math.round(Number(avg)));
    const recipe=ALL_RECIPES.find(r=>{try{return btoa(unescape(encodeURIComponent(r.link))).replace(/\+/g,'-').replace(/\//g,'_').replace(/=/g,'')===rd.key;}catch(e){return false;}});
    const name=recipe?str(recipe.name):'ÙˆØµÙØ© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©';
    return `<div class="rcard">
      <div class="rcard-name">${i+1}. ${esc(name)}</div>
      <div><div class="rcard-stars">${stars} <strong>${avg}</strong>/5</div>
      <div class="rcard-info">${rd.count} Ù…Ù‚ÙŠÙ‘Ù… â€¢ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ø¬ÙˆÙ…: ${rd.total}</div></div>
      <button class="btn bsm bd" onclick="resetOneRating('${rd.key}','${esc(name)}')">ğŸ—‘ï¸ ØªØµÙÙŠØ±</button>
    </div>`;
  }).join('');
}

window.resetAllRatings = function(){
  document.getElementById('confirmMsg').textContent='Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª. Ù‡Ø°Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.';
  const ov=document.getElementById('confirmOv'); ov.classList.add('open');
  document.getElementById('confirmOk').onclick=()=>{
    ov.classList.remove('open');
    set(ref(db,'ratings'),null).then(()=>toast('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª âœ…')).catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  };
};

window.resetOneRating = function(key,name){
  document.getElementById('confirmMsg').textContent='Ø­Ø°Ù ØªÙ‚ÙŠÙŠÙ…Ø§Øª: '+name+'ØŸ';
  const ov=document.getElementById('confirmOv'); ov.classList.add('open');
  document.getElementById('confirmOk').onclick=()=>{
    ov.classList.remove('open');
    remove(ref(db,'ratings/'+key)).then(()=>toast('ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ… âœ…')).catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  };
};

// â•â•â•â• COMMENTS â•â•â•â•
function renderComments(){
  const container=document.getElementById('commentsList');
  const allComments=[];
  Object.entries(FB_COMMENTS).forEach(([rKey,comments])=>{
    if(typeof comments!=='object') return;
    Object.entries(comments).forEach(([cKey,c])=>{
      if(c && c.text) allComments.push({rKey,cKey,...c});
    });
  });
  if(!allComments.length){ container.innerHTML='<p style="color:var(--t2);text-align:center;padding:20px">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨Ø¹Ø¯</p>'; return; }
  allComments.sort((a,b)=>(b.createdAt||0)-(a.createdAt||0));
  container.innerHTML=allComments.map(c=>{
    const recipe=ALL_RECIPES.find(r=>{try{return btoa(unescape(encodeURIComponent(r.link))).replace(/\+/g,'-').replace(/\//g,'_').replace(/=/g,'')===c.rKey;}catch(e){return false;}});
    const rName=recipe?str(recipe.name):'ÙˆØµÙØ© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©';
    const date=c.createdAt?new Date(c.createdAt).toLocaleDateString('ar-SA'):'-';
    const stars='â­'.repeat(c.rating||0);
    return `<div class="comments-card">
      <div class="cmeta">ğŸ“ ${esc(rName)} | ğŸ• ${date} ${c.author?'| ğŸ‘¤ '+esc(c.author):''}</div>
      <div class="crating">${stars} (${c.rating||0}/5)</div>
      <div class="ctext" style="margin-top:6px">${esc(c.text)}</div>
      <div style="margin-top:8px;display:flex;justify-content:flex-end">
        <button class="btn bsm bd" onclick="deleteComment('${c.rKey}','${c.cKey}')">ğŸ—‘ï¸ Ø­Ø°Ù</button>
      </div>
    </div>`;
  }).join('');
}

window.deleteComment = function(rKey,cKey){
  document.getElementById('confirmMsg').textContent='Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ØŸ';
  const ov=document.getElementById('confirmOv'); ov.classList.add('open');
  document.getElementById('confirmOk').onclick=()=>{
    ov.classList.remove('open');
    remove(ref(db,'comments/'+rKey+'/'+cKey)).then(()=>toast('ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ âœ…')).catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  };
};

window.deleteAllComments = function(){
  document.getElementById('confirmMsg').textContent='Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª. Ù‡Ø°Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.';
  const ov=document.getElementById('confirmOv'); ov.classList.add('open');
  document.getElementById('confirmOk').onclick=()=>{
    ov.classList.remove('open');
    set(ref(db,'comments'),null).then(()=>toast('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª âœ…')).catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  };
};

// â•â•â•â• ADS â•â•â•â•
window.saveAdsCode = function(){
  if(!db){ toast('Firebase ØºÙŠØ± Ù…ØªØµÙ„!','terr'); return; }
  const code=document.getElementById('adsCode').value.trim();
  const pos=document.getElementById('adsPosition').value;
  const enabled=document.getElementById('adsEnabled').checked;
  set(ref(db,'siteSettings/adsCode'),code)
    .then(()=>set(ref(db,'siteSettings/adsPosition'),pos))
    .then(()=>set(ref(db,'siteSettings/adsEnabled'),enabled))
    .then(()=>{ document.getElementById('adsPreview').textContent=code||'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯'; toast('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª âœ…'); })
    .catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
};

window.saveAdsSetting = function(){
  if(!db) return;
  set(ref(db,'siteSettings/adsEnabled'),document.getElementById('adsEnabled').checked)
    .then(()=>toast('ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…')).catch(()=>{});
};

// â•â•â•â• PINNED RECIPES â•â•â•â•
let PINNED_SEARCH_RESULTS = [];

window.searchPinnedRecipe = function(){
  const q=document.getElementById('pinnedSearch').value.toLowerCase().trim();
  const res=document.getElementById('pinnedSearchResults');
  if(q.length<2){ res.innerHTML=''; PINNED_SEARCH_RESULTS=[]; return; }
  PINNED_SEARCH_RESULTS=ALL_RECIPES.filter(r=>str(r.name).toLowerCase().includes(q)||str(r.author).toLowerCase().includes(q)).slice(0,5);
  if(!PINNED_SEARCH_RESULTS.length){ res.innerHTML='<p style="color:var(--t2);font-size:.82em">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</p>'; return; }
  res.innerHTML=PINNED_SEARCH_RESULTS.map((r,i)=>`<div class="pinned-recipe-card">
    <div><div style="font-weight:700">${esc(str(r.name))}</div><div style="font-size:.8em;color:var(--t2)">${esc(str(r.author))} â€¢ ${str(r.brewer)}</div></div>
    <button class="btn bp bsm" onclick="pinRecipe(${i})">ğŸ“Œ ØªØ«Ø¨ÙŠØª</button>
  </div>`).join('');
};

// Store pinned list globally for index-based unpin
let CURRENT_PINNED = [];

window.pinRecipe = function(idx){
  if(!db){ toast('Firebase ØºÙŠØ± Ù…ØªØµÙ„!','terr'); return; }
  const r = PINNED_SEARCH_RESULTS[idx];
  if(!r) return;
  get(ref(db,'siteSettings/pinnedRecipes')).then(snap=>{
    const list=snap.val()||[];
    if(list.find(x=>x.link===r.link)){ toast('Ù‡Ø°Ù‡ Ø§Ù„ÙˆØµÙØ© Ù…Ø«Ø¨ØªØ© Ø¨Ø§Ù„ÙØ¹Ù„','twin'); return; }
    list.unshift({name:r.name,author:r.author,brewer:r.brewer,link:r.link,category:r.category||'hot', pinnedAt:Date.now()});
    set(ref(db,'siteSettings/pinnedRecipes'),list)
      .then(()=>{ toast('ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„ÙˆØµÙØ© âœ…'); document.getElementById('pinnedSearch').value=''; document.getElementById('pinnedSearchResults').innerHTML=''; PINNED_SEARCH_RESULTS=[]; })
      .catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  });
};

window.unpinRecipe = function(idx){
  if(!db) return;
  get(ref(db,'siteSettings/pinnedRecipes')).then(snap=>{
    const list=snap.val()||[];
    list.splice(idx,1);
    set(ref(db,'siteSettings/pinnedRecipes'),list)
      .then(()=>toast('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª âœ…'))
      .catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  });
};

function renderPinnedList(list){
  CURRENT_PINNED=list||[];
  const el=document.getElementById('pinnedList');
  if(!list||!list.length){ el.innerHTML='<p style="color:var(--t2);font-size:.85em">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙˆØµÙØ§Øª Ù…Ø«Ø¨ØªØ©</p>'; return; }
  el.innerHTML=list.map((r,i)=>`<div class="pinned-recipe-card">
    <span class="pin-icon">ğŸ“Œ</span>
    <div style="flex:1"><div style="font-weight:700">${esc(str(r.name))}</div><div style="font-size:.8em;color:var(--t2)">${esc(str(r.author))} â€¢ ${str(r.brewer)}</div></div>
    <button class="btn bsm bd" onclick="unpinRecipe(${i})">âŒ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª</button>
  </div>`).join('');
}

// â•â•â•â• PROMO CODES â•â•â•â•
window.addPromoCode = function(){
  if(!db){ toast('Firebase ØºÙŠØ± Ù…ØªØµÙ„!','terr'); return; }
  const name=document.getElementById('promoName').value.trim();
  const code=document.getElementById('promoCode').value.trim().toUpperCase();
  const desc=document.getElementById('promoDesc').value.trim();
  const link=document.getElementById('promoLink').value.trim();
  if(!name||!code){ toast('Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙƒÙˆØ¯ Ù…Ø·Ù„ÙˆØ¨Ø§Ù†','terr'); return; }
  get(ref(db,'siteSettings/promoCodes')).then(snap=>{
    const list=snap.val()||[];
    list.push({name,code,desc,link,createdAt:Date.now()});
    set(ref(db,'siteSettings/promoCodes'),list).then(()=>{
      toast('ØªÙ… Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ… âœ…');
      ['promoName','promoCode','promoDesc','promoLink'].forEach(id=>document.getElementById(id).value='');
    }).catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
  });
};

window.deletePromoCode = function(idx){
  if(!db) return;
  get(ref(db,'siteSettings/promoCodes')).then(snap=>{
    const list=snap.val()||[];
    list.splice(idx,1);
    set(ref(db,'siteSettings/promoCodes'),list).then(()=>toast('ØªÙ… Ø­Ø°Ù Ø§Ù„ÙƒÙˆØ¯ âœ…'));
  });
};

window.savePromoBarSetting = function(){
  if(!db) return;
  set(ref(db,'siteSettings/promoBarEnabled'),document.getElementById('promoBarEnabled').checked)
    .then(()=>toast('ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…'));
};

function renderPromoList(list){
  const el=document.getElementById('promoList');
  if(!list||!list.length){ el.innerHTML='<p style="color:var(--t2);font-size:.85em">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ø¨Ø¹Ø¯</p>'; return; }
  el.innerHTML=list.map((p,i)=>`<div class="promo-card">
    <div>
      <div style="font-weight:700;margin-bottom:4px">${esc(str(p.name))}</div>
      <div class="promo-code">${esc(str(p.code))}</div>
      ${p.desc?`<div style="font-size:.8em;color:var(--t2);margin-top:2px">${esc(str(p.desc))}</div>`:''}
    </div>
    <div style="display:flex;gap:7px;align-items:center">
      ${p.link?`<a href="${esc(str(p.link))}" target="_blank" class="btn bgray bsm">ğŸ”—</a>`:''}
      <button class="btn bsm bd" onclick="deletePromoCode(${i})">ğŸ—‘ï¸</button>
    </div>
  </div>`).join('');
}

// â•â•â•â• SITE SETTINGS â•â•â•â•
window.saveSiteSettings = function(){
  if(!db){ toast('Firebase ØºÙŠØ± Ù…ØªØµÙ„!','terr'); return; }
  const s={
    siteTitle: document.getElementById('siteTitle').value.trim(),
    siteSubtitle: document.getElementById('siteSubtitle').value.trim(),
    footerCopy: document.getElementById('footerCopy').value.trim(),
    footerSub: document.getElementById('footerSub').value.trim(),
    footerDev: document.getElementById('footerDev').value.trim(),
    annoText: document.getElementById('annoText').value.trim(),
    annoType: document.getElementById('annoType').value,
    annoEnabled: document.getElementById('annoEnabled').checked
  };
  set(ref(db,'siteSettings'),{...s}).then(()=>toast('ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ âœ… Ø³ØªØ¸Ù‡Ø± Ù„Ù„Ø²ÙˆØ§Ø± ÙÙˆØ±Ø§Ù‹')).catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
};

window.saveAnnoSetting = function(){
  if(!db) return;
  set(ref(db,'siteSettings/annoEnabled'),document.getElementById('annoEnabled').checked).then(()=>toast('ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…'));
};

// â•â•â•â• IMPORT â•â•â•â•
window.doImport = function(event){
  if(!db){ toast('Firebase ØºÙŠØ± Ù…ØªØµÙ„!','terr'); return; }
  const file=event.target.files[0]; if(!file) return;
  const reader=new FileReader();
  reader.onload=e=>{
    try{
      const wb=XLSX.read(e.target.result,{type:'array'});
      const rows=XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]]);
      const valid=rows.filter(r=>r.name&&r.link);
      if(!valid.length){ toast('Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙÙˆÙ ØµØ§Ù„Ø­Ø©','terr'); return; }
      Promise.all(valid.map(row=>{
        const r={name:str(row.name),author:str(row.author||''),brewer:str(row.brewer||'Other'),
          dose:str(row.dose||''),ratio:str(row.ratio||''),link:str(row.link),category:str(row.category||'hot')};
        ensureCat(r); return push(recipesRef,r);
      })).then(()=>toast('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ '+valid.length+' ÙˆØµÙØ© âœ…'))
         .catch(err=>toast('Ø®Ø·Ø£: '+err.message,'terr'));
    }catch(err){ toast('Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù','terr'); }
    event.target.value='';
  };
  reader.readAsArrayBuffer(file);
};

window.dlTemplate=function(){
  const ws=XLSX.utils.aoa_to_sheet([
    ['name','author','brewer','dose','ratio','link','category'],
    ['ÙˆØµÙØ© ØªØ¬Ø±ÙŠØ¨ÙŠØ©','Ù…Ø­Ù…Ø¯','Omni','15g','1:15','https://share-h5.xbloom.com/?id=xxx','hot']
  ]);
  const wb=XLSX.utils.book_new(); XLSX.utils.book_append_sheet(wb,ws,'Recipes');
  XLSX.writeFile(wb,'xbloom_template.xlsx');
};

// â•â•â•â• EXPORT â•â•â•â•
window.expXLS=function(){
  const rows=FB_RECIPES.map(r=>({name:r.name,author:r.author,brewer:r.brewer,dose:r.dose,ratio:r.ratio,link:r.link,category:r.category}));
  const ws=XLSX.utils.json_to_sheet(rows); const wb=XLSX.utils.book_new();
  XLSX.utils.book_append_sheet(wb,ws,'Recipes'); XLSX.writeFile(wb,'xbloom_fb_recipes.xlsx');
};
window.expJSON=function(){
  const a=document.createElement('a');
  a.href=URL.createObjectURL(new Blob([JSON.stringify(FB_RECIPES,null,2)],{type:'application/json'}));
  a.download='xbloom_recipes.json'; a.click();
};
window.expBackup=function(){
  const data={timestamp:new Date().toISOString(),fb_recipes:FB_RECIPES,ratings:FB_RATINGS,comments:FB_COMMENTS};
  const a=document.createElement('a');
  a.href=URL.createObjectURL(new Blob([JSON.stringify(data,null,2)],{type:'application/json'}));
  a.download='xbloom_backup_'+new Date().toISOString().slice(0,10)+'.json'; a.click();
};

// â•â•â•â• PASSWORD ROTATOR â•â•â•â•
let _passVisible = false;

window.togglePassVis = function(){
  _passVisible = !_passVisible;
  const inp = document.getElementById('newPassInput');
  inp.type = _passVisible ? 'text' : 'password';
  document.getElementById('passVisBtn').textContent = _passVisible ? 'ğŸ™ˆ' : 'ğŸ‘ï¸';
};

function calcStrength(p){
  let score=0;
  if(p.length>=6) score++;
  if(p.length>=10) score++;
  if(/[A-Z]/.test(p)||/[a-z]/.test(p)) score++;
  if(/[0-9]/.test(p)) score++;
  if(/[^A-Za-z0-9]/.test(p)) score++;
  return score;
}

window.livePassPreview = function(){
  const p = document.getElementById('newPassInput').value;
  const c = document.getElementById('newPassConfirm').value;
  const strengthEl = document.getElementById('passStrength');
  const matchEl = document.getElementById('passMatchMsg');
  const genBtn = document.getElementById('genPassBtn');
  
  if(p.length > 0){
    strengthEl.style.display='block';
    const s = calcStrength(p);
    const bar = document.getElementById('passStrengthBar');
    const lbl = document.getElementById('passStrengthLabel');
    const pct = (s/5)*100;
    bar.style.width = pct+'%';
    if(s<=2){ bar.style.background='#f5576c'; lbl.textContent='ğŸ”´ Ø¶Ø¹ÙŠÙØ©'; lbl.className='pass-strength-weak'; }
    else if(s<=3){ bar.style.background='#ffd700'; lbl.textContent='ğŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©'; lbl.className='pass-strength-fair'; }
    else { bar.style.background='#43e97b'; lbl.textContent='ğŸŸ¢ Ù‚ÙˆÙŠØ©'; lbl.className='pass-strength-good'; }
  } else {
    strengthEl.style.display='none';
  }

  if(c.length > 0){
    matchEl.style.display='block';
    if(p===c){ matchEl.innerHTML='<span style="color:#43e97b">âœ… ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªØ§Ù†</span>'; }
    else { matchEl.innerHTML='<span style="color:#f5576c">âŒ ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†</span>'; }
  } else {
    matchEl.style.display='none';
  }
  
  genBtn.disabled = !(p.length >= 4 && p === c);
};

window.generateNewPass = function(){
  const p = document.getElementById('newPassInput').value;
  const c = document.getElementById('newPassConfirm').value;
  if(p !== c || p.length < 4){ toast('ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø© Ø£Ùˆ Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹','terr'); return; }
  
  const encoded = btoa(p);
  document.getElementById('passNewLine').textContent = encoded;
  document.getElementById('passResult').style.display='block';
  document.getElementById('passResult').scrollIntoView({behavior:'smooth',block:'nearest'});
  toast('ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ âœ… Ø§Ù†Ø³Ø®Ù‡ ÙˆØ§Ù„ØµÙ‚Ù‡ ÙÙŠ admin.html','tok');
};

window.copyPassCode = function(){
  const val = document.getElementById('passNewLine').textContent;
  const fullLine = "const _CP = '" + val + "';";
  navigator.clipboard.writeText(fullLine)
    .then(()=>toast('ØªÙ… Ø§Ù„Ù†Ø³Ø®! ğŸ“‹ Ø§Ù„ØµÙ‚Ù‡ ÙÙŠ admin.html'))
    .catch(()=>{
      const ta=document.createElement('textarea');
      ta.value=fullLine; document.body.appendChild(ta);
      ta.select(); document.execCommand('copy');
      document.body.removeChild(ta);
      toast('ØªÙ… Ø§Ù„Ù†Ø³Ø®! ğŸ“‹');
    });
};

</script>
</body>
</html>
